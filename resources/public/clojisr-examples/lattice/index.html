<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /></head><body><div><h1>clojisr-examples.lattice</h1><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/lattice.clj">clojisr-examples.lattice</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Tue Mar 24 00:30:24 CET 2020.</small></i><hr /></div><div>Table of contents<ul><li><a href="#Setup">Setup</a></li><li><a href="#Chapter-1">Chapter-1</a></li><li><a href="#Chapter-2">Chapter-2</a></li><li><a href="#Chapter-3">Chapter-3</a></li><li><a href="#Chapter-4">Chapter-4</a></li><li><a href="#Chapter-5">Chapter-5</a></li></ul><hr /></div><div class="nspbox"><div><h1>Lattice</h1></div></div><div class="nspbox"><div><p>Examples from the page: http://lmdvr.r-forge.r-project.org/figures/figures.html</p></div></div><div class="nspbox"><a id="Setup"> </a><div><h2>Setup</h2></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r+&nbsp;r&nbsp;r->clj&nbsp;clj->r&nbsp;clj->java&nbsp;java->clj&nbsp;java->r&nbsp;r->java]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.applications.plotting&nbsp;:refer&nbsp;[plot->file]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[lattice&nbsp;:as&nbsp;lat]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[latticeExtra&nbsp;:as&nbsp;late]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[stats&nbsp;:as&nbsp;stats]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[mlmRev]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[MEMSS]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[grDevices&nbsp;:as&nbsp;dev]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[graphics&nbsp;:as&nbsp;g]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[base&nbsp;:refer&nbsp;[$&nbsp;$<-&nbsp;<-&nbsp;summary]&nbsp;:as&nbsp;base]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[utils]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[grid]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[locfit]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[hexbin]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[datasets&nbsp;:refer&nbsp;:all])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;r.base/version)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:platform&nbsp;["x86_64-pc-linux-gnu"],</br>&nbsp;:arch&nbsp;["x86_64"],</br>&nbsp;:os&nbsp;["linux-gnu"],</br>&nbsp;:system&nbsp;["x86_64,&nbsp;linux-gnu"],</br>&nbsp;:status&nbsp;[""],</br>&nbsp;:major&nbsp;["3"],</br>&nbsp;:minor&nbsp;["6.3"],</br>&nbsp;:year&nbsp;["2020"],</br>&nbsp;:month&nbsp;["02"],</br>&nbsp;:day&nbsp;["29"],</br>&nbsp;:svn&nbsp;rev&nbsp;["77875"],</br>&nbsp;:language&nbsp;["R"],</br>&nbsp;:version.string&nbsp;["R&nbsp;version&nbsp;3.6.3&nbsp;(2020-02-29)"],</br>&nbsp;:nickname&nbsp;["Holding&nbsp;the&nbsp;Windsock"]}</code></div></div><div class="nspbox"><a id="Chapter-1"> </a><div><h2>Chapter 1</h2></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(stats/xtabs&nbsp;'(formula&nbsp;nil&nbsp;score)&nbsp;:data&nbsp;r.mlmRev/Chem97))</code></div><div class="nspout"><code class="prettyprint lang-clj">[3688&nbsp;3627&nbsp;4619&nbsp;5739&nbsp;6668&nbsp;6681]</code></div></div><div class="nspbox"><div><h3>Figure 1.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"1.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/histogram&nbsp;:data&nbsp;r.mlmRev/Chem97)))</code></div></div><div class="nspbox"><image src="1.1.png"></image></div><div class="nspbox"><div><h3>Figure 1.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"1.2.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ref&nbsp;true)))</code></div></div><div class="nspbox"><image src="1.2.png"></image></div><div class="nspbox"><div><h3>Figure 1.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"1.3.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;gcsescore)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ref&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;3})))</code></div></div><div class="nspbox"><image src="1.3.png"></image></div><div class="nspbox"><div><h3>Figure 1.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;tp1</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/histogram&nbsp;:data&nbsp;r.mlmRev/Chem97)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;tp2</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;gcsescore)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right",&nbsp;:title&nbsp;"score"})))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/class&nbsp;tp2)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;"trellis"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/summary&nbsp;tp1))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:call</br>&nbsp;[histogram</br>&nbsp;&nbsp;[(&nbsp;[~&nbsp;[|&nbsp;gcsescore&nbsp;[factor&nbsp;score]]]]</br>&nbsp;&nbsp;[$&nbsp;.MEM&nbsp;x58d1742dc63a4135]],</br>&nbsp;:packet.sizes&nbsp;[3688.0&nbsp;3627.0&nbsp;4619.0&nbsp;5739.0&nbsp;6668.0&nbsp;6681.0],</br>&nbsp;:index.cond&nbsp;[[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6]],</br>&nbsp;:perm.cond&nbsp;[1]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"1.4.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(g/plot&nbsp;tp1&nbsp;:split&nbsp;[1&nbsp;1&nbsp;1&nbsp;2])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(g/plot&nbsp;tp2&nbsp;:split&nbsp;[1&nbsp;2&nbsp;1&nbsp;2]&nbsp;:newpage&nbsp;false)))</code></div></div><div class="nspbox"><image src="1.4.png"></image></div><div class="nspbox"><a id="Chapter-2"> </a><div><h2>Chapter 2</h2></div></div><div class="nspbox"><div><h3>Figure 2.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;yield&nbsp;(|&nbsp;nitro&nbsp;(+&nbsp;Variety&nbsp;Block)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;r.MEMSS/Oats&nbsp;:type&nbsp;"o")))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.1.png")&nbsp;#(base/print&nbsp;tp1-oats))</code></div></div><div class="nspbox"><image src="2.1.png"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/dim&nbsp;tp1-oats)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;3&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/dimnames&nbsp;tp1-oats))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:Variety&nbsp;["Golden&nbsp;Rain"&nbsp;"Marvellous"&nbsp;"Victory"],</br>&nbsp;:Block&nbsp;["I"&nbsp;"II"&nbsp;"III"&nbsp;"IV"&nbsp;"V"&nbsp;"VI"]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(stats/xtabs&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;Variety&nbsp;Block))&nbsp;:data&nbsp;r.MEMSS/Oats)</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block</br>Variety&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;II&nbsp;III&nbsp;IV&nbsp;V&nbsp;VI</br>&nbsp;&nbsp;Golden&nbsp;Rain&nbsp;4&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;4&nbsp;&nbsp;4</br>&nbsp;&nbsp;Marvellous&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;4&nbsp;&nbsp;4</br>&nbsp;&nbsp;Victory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;4&nbsp;&nbsp;4</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/summary&nbsp;tp1-oats))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:call</br>&nbsp;[xyplot</br>&nbsp;&nbsp;[(&nbsp;[~&nbsp;yield&nbsp;[|&nbsp;nitro&nbsp;[+&nbsp;Variety&nbsp;Block]]]]</br>&nbsp;&nbsp;[$&nbsp;.MEM&nbsp;xfe6a11b6174745df]</br>&nbsp;&nbsp;["o"]],</br>&nbsp;:packet.sizes</br>&nbsp;[4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0],</br>&nbsp;:index.cond&nbsp;[[1&nbsp;2&nbsp;3]&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6]],</br>&nbsp;:perm.cond&nbsp;[1&nbsp;2]}</code></div></div><div class="nspbox"><div><h3>Figure 2.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/summary&nbsp;(r/bra&nbsp;tp1-oats&nbsp;(r/empty-symbol)&nbsp;1)))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:call</br>&nbsp;[xyplot</br>&nbsp;&nbsp;[(&nbsp;[~&nbsp;yield&nbsp;[|&nbsp;nitro&nbsp;[+&nbsp;Variety&nbsp;Block]]]]</br>&nbsp;&nbsp;[$&nbsp;.MEM&nbsp;xfe6a11b6174745df]</br>&nbsp;&nbsp;["o"]</br>&nbsp;&nbsp;new.levs],</br>&nbsp;:packet.sizes</br>&nbsp;[4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0],</br>&nbsp;:index.cond&nbsp;[[1&nbsp;2&nbsp;3]&nbsp;[1]],</br>&nbsp;:perm.cond&nbsp;[1&nbsp;2]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.2.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra&nbsp;tp1-oats&nbsp;(r/empty-symbol)&nbsp;1))</code></div></div><div class="nspbox"><image src="2.2.png"></image></div><div class="nspbox"><div><h3>Figure 2.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.3.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/update&nbsp;tp1-oats&nbsp;:aspect&nbsp;"xy"))</code></div></div><div class="nspbox"><image src="2.3.png"></image></div><div class="nspbox"><div><h3>Figure 2.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.4.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/update&nbsp;tp1-oats&nbsp;:aspect&nbsp;"xy"&nbsp;:layout&nbsp;[0&nbsp;18]))</code></div></div><div class="nspbox"><image src="2.4.png"></image></div><div class="nspbox"><div><h3>Figure 2.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.5.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/update&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[0&nbsp;18]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:between&nbsp;{:x&nbsp;[0&nbsp;0&nbsp;0.5],&nbsp;:y&nbsp;0.5}))</code></div></div><div class="nspbox"><image src="2.5.png"></image></div><div class="nspbox"><div><h3>Figure 2.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.6.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;variety&nbsp;(|&nbsp;yield&nbsp;site))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;lat/barley</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;6]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'year</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right"})))</code></div></div><div class="nspbox"><image src="2.6.png"></image></div><div class="nspbox"><div><h3>Figure 2.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;key-variety</br>&nbsp;&nbsp;&nbsp;{:space&nbsp;"right",</br>&nbsp;&nbsp;&nbsp;&nbsp;:text&nbsp;'[:!list&nbsp;(levels&nbsp;($&nbsp;r.MEMSS/Oats&nbsp;Variety))],</br>&nbsp;&nbsp;&nbsp;&nbsp;:points&nbsp;{:pch&nbsp;(range&nbsp;1&nbsp;3),&nbsp;:col&nbsp;"black"}})</code></div><div class="nspout"><code class="prettyprint lang-clj">{:space&nbsp;"right",</br>&nbsp;:text&nbsp;[:!list&nbsp;(levels&nbsp;($&nbsp;r.MEMSS/Oats&nbsp;Variety))],</br>&nbsp;:points&nbsp;{:pch&nbsp;(1&nbsp;2),&nbsp;:col&nbsp;"black"}}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.7.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;yield&nbsp;(|&nbsp;nitro&nbsp;Block))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;r.MEMSS/Oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"o"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Variety</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;key-variety</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;(range&nbsp;1&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.line&nbsp;"darkgrey"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.symbol&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Nitrogen&nbsp;concentration&nbsp;(cwt/acre)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Yield&nbsp;(bushels/acre)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Yield&nbsp;of&nbsp;three&nbsp;varieties&nbsp;of&nbsp;oats"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sub&nbsp;"A&nbsp;3&nbsp;x&nbsp;4&nbsp;split&nbsp;plot&nbsp;experiment&nbsp;with&nbsp;6&nbsp;blocks")))</code></div></div><div class="nspbox"><image src="2.7.png"></image></div><div class="nspbox"><div><h3>Figure 2.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.8.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Class&nbsp;(|&nbsp;Freq&nbsp;(+&nbsp;Sex&nbsp;Age)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;:data&nbsp;(base/as-data-frame&nbsp;Titanic)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Survived</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:stack&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[4&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:title&nbsp;"Survived",&nbsp;:columns&nbsp;2})))</code></div></div><div class="nspbox"><image src="2.8.png"></image></div><div class="nspbox"><div><h3>Figure 2.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.9.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Class&nbsp;(|&nbsp;Freq&nbsp;(+&nbsp;Sex&nbsp;Age)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;:data&nbsp;(base/as-data-frame&nbsp;Titanic)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Survived</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:stack&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[4&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:title&nbsp;"Survived",&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;"free"})))</code></div></div><div class="nspbox"><image src="2.9.png"></image></div><div class="nspbox"><div><h3>Figure 2.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;bc-titanic</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Class&nbsp;(|&nbsp;Freq&nbsp;(+&nbsp;Sex&nbsp;Age)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;:data&nbsp;(base/as-data-frame&nbsp;Titanic)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Survived</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:stack&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[4&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:title&nbsp;"Survived",&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;"free"})))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.10.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bc-titanic</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[...]&nbsp;(panel.grid&nbsp;:h&nbsp;0&nbsp;:v&nbsp;-1)&nbsp;(panel.barchart&nbsp;...))))</code></div></div><div class="nspbox"><image src="2.10.png"></image></div><div class="nspbox"><div><h3>Figure 2.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.11.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bc-titanic</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[...&nbsp;border]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.barchart&nbsp;...&nbsp;:border&nbsp;"transparent"))))</code></div></div><div class="nspbox"><image src="2.11.png"></image></div><div class="nspbox"><a id="Chapter-3"> </a><div><h2>Chapter 3</h2></div></div><div class="nspbox"><div><h3>Figure 3.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;eruptions)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;faithful)))</code></div></div><div class="nspbox"><image src="3.1.png"></image></div><div class="nspbox"><div><h3>Figure 3.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.2.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;eruptions)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;faithful</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:kernel&nbsp;"rect"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:bw&nbsp;0.2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;"rug"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:n&nbsp;200)))</code></div></div><div class="nspbox"><image src="3.2.png"></image></div><div class="nspbox"><div><h3>Figure 3.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.3.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;(log&nbsp;FSC.H)&nbsp;Days))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ref&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[2&nbsp;4])))</code></div></div><div class="nspbox"><image src="3.3.png"></image></div><div class="nspbox"><div><h3>Figure 3.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.4.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;(log2&nbsp;FSC.H)&nbsp;Days))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/histogram&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"log&nbsp;Forward&nbsp;Scatter"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"density"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:nint&nbsp;50</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[2&nbsp;4])))</code></div></div><div class="nspbox"><image src="3.4.png"></image></div><div class="nspbox"><div><h3>Figure 3.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.5.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints&nbsp;100))))</code></div></div><div class="nspbox"><image src="3.5.png"></image></div><div class="nspbox"><div><h3>Figure 3.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.6.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Standard&nbsp;Normal&nbsp;Quantiles"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.6.png"></image></div><div class="nspbox"><div><h3>Figure 3.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;chem97-mod</br>&nbsp;&nbsp;&nbsp;(base/transform&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:gcsescore.trans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'("`^`"&nbsp;gcsescore&nbsp;2.34)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.7.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore.trans&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath&nbsp;chem97-mod</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right",&nbsp;:title&nbsp;"score"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Standard&nbsp;Normal&nbsp;Quantiles"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Transformed&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.7.png"></image></div><div class="nspbox"><div><h3>Figure 3.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.8.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(late/ecdfplot&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'gender</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(>&nbsp;gcsescore&nbsp;0)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.8.png"></image></div><div class="nspbox"><div><h3>Figure 3.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.9.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'gender</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;2,&nbsp;:points&nbsp;false,&nbsp;:lines&nbsp;true}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:distribution&nbsp;'qunif</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel&nbsp;'prepanel.qqmathline</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(>&nbsp;gcsescore&nbsp;0)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Standard&nbsp;Normal&nbsp;Quantiles"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.9.png"></image></div><div class="nspbox"><div><h3>Figure 3.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.10.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;gender&nbsp;(|&nbsp;gcsescore&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qq&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;1)))</code></div></div><div class="nspbox"><image src="3.10.png"></image></div><div class="nspbox"><div><h3>Figure 3.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.11.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(factor&nbsp;score)&nbsp;(|&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.11.png"></image></div><div class="nspbox"><div><h3>Figure 3.12</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.12.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;("`^`"&nbsp;gcsescore&nbsp;2.34)&nbsp;(|&nbsp;gender&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:varwidth&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[6&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.12.png"></image></div><div class="nspbox"><div><h3>Figure 3.13</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.13.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Days&nbsp;(log&nbsp;FSC.H))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"log(Forward&nbsp;Scatter)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Days&nbsp;Past&nbsp;Transplant")))</code></div></div><div class="nspbox"><image src="3.13.png"></image></div><div class="nspbox"><div><h3>Figure 3.14</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.14.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Days&nbsp;(log&nbsp;FSC.H))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'panel.violin</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:box.ratio&nbsp;3</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"log(Forward&nbsp;Scatter)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Days&nbsp;Past&nbsp;Transplant")))</code></div></div><div class="nspbox"><image src="3.14.png"></image></div><div class="nspbox"><div><h3>Figure 3.15</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.15.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(factor&nbsp;mag)&nbsp;depth)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot&nbsp;quakes)))</code></div></div><div class="nspbox"><image src="3.15.png"></image></div><div class="nspbox"><div><h3>Figure 3.16</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"3.16.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;depth&nbsp;(factor&nbsp;mag))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:jitter.data&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0.6</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Magnitude&nbsp;(Richter)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Depth&nbsp;(km)")))</code></div></div><div class="nspbox"><image src="3.16.png"></image></div><div class="nspbox"><div><h3>Figure 3.17</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.17.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(sqrt&nbsp;(abs&nbsp;(residuals&nbsp;(lm&nbsp;(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;variety&nbsp;year&nbsp;site))))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;site)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;lat/barley</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'year</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:jitter.data&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:points&nbsp;true,&nbsp;:lines&nbsp;true,&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"a"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fun&nbsp;'median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;(r&nbsp;"expression(abs('Residual&nbsp;Barley&nbsp;Yield')^{1&nbsp;/&nbsp;2})"))))</code></div></div><div class="nspbox"><image src="3.17.png"></image></div><div class="nspbox"><a id="Chapter-4"> </a><div><h2>Chapter 4</h2></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">VADeaths</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rural&nbsp;Male&nbsp;Rural&nbsp;Female&nbsp;Urban&nbsp;Male&nbsp;Urban&nbsp;Female</br>50-54&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.4</br>55-59&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13.6</br>60-64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19.3</br>65-69&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35.1</br>70-74&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50.0</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/class&nbsp;VADeaths)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;"matrix"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(r.utils/methods&nbsp;"dotplot"))</code></div><div class="nspout"><code class="prettyprint lang-clj">["dotplot.array"</br>&nbsp;"dotplot.coef.mer"</br>&nbsp;"dotplot.default"</br>&nbsp;"dotplot.formula"</br>&nbsp;"dotplot.matrix"</br>&nbsp;"dotplot.numeric"</br>&nbsp;"dotplot.ranef.mer"</br>&nbsp;"dotplot.table"]</code></div></div><div class="nspbox"><div><h3>Figure 4.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;VADeaths&nbsp;:groups&nbsp;false))</code></div></div><div class="nspbox"><image src="4.1.png"></image></div><div class="nspbox"><div><h3>Figure 4.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.2.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;4]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:origin&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"h"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virginia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Rate&nbsp;(per&nbsp;1000)"))</code></div></div><div class="nspbox"><image src="4.2.png"></image></div><div class="nspbox"><div><h3>Figure 4.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.3.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"o"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:lines&nbsp;true,&nbsp;:space&nbsp;"right"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virginia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Rate&nbsp;(per&nbsp;1000)"))</code></div></div><div class="nspbox"><image src="4.3.png"></image></div><div class="nspbox"><div><h3>Figure 4.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.4.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;4]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:reference&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virginia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Rate&nbsp;(per&nbsp;1000)"))</code></div></div><div class="nspbox"><image src="4.4.png"></image></div><div class="nspbox"><div><h3>Figure 4.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.5.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;(base/prop-table&nbsp;late/postdoc&nbsp;:margin&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;:xlab&nbsp;"Proportion"&nbsp;:auto.key&nbsp;{:adj&nbsp;1})))</code></div></div><div class="nspbox"><image src="4.5.png"></image></div><div class="nspbox"><div><h3>Figure 4.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.6.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;(base/prop-table&nbsp;late/postdoc&nbsp;:margin&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Proportion"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.strip.text&nbsp;{:abbreviate&nbsp;true,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:minlength&nbsp;10})))</code></div></div><div class="nspbox"><image src="4.6.png"></image></div><div class="nspbox"><div><h3>Figure 4.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.7.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;(base/prop-table&nbsp;late/postdoc&nbsp;:margin&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:index.cond&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(median&nbsp;x))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Proportion"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.6</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:y&nbsp;{:relation&nbsp;"free",&nbsp;:rot&nbsp;0}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;{:ylim&nbsp;(levels&nbsp;(reorder&nbsp;y&nbsp;x))})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function&nbsp;[x&nbsp;y&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.dotplot&nbsp;x&nbsp;(reorder&nbsp;y&nbsp;x)&nbsp;...)))))</code></div></div><div class="nspbox"><image src="4.7.png"></image></div><div class="nspbox"><div><h3>Figure 4.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;gcsescore-tab</br>&nbsp;&nbsp;&nbsp;(stats/xtabs&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;gcsescore&nbsp;gender))&nbsp;r.mlmRev/Chem97))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;gcsescore-df</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[df&nbsp;(base/as-data-frame&nbsp;gcsescore-tab)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;($&nbsp;df&nbsp;'gcsescore)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-character)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-numeric)))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.8.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Freq&nbsp;(|&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;gcsescore-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"h"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;2]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="4.8.png"></image></div><div class="nspbox"><div><h3>Figure 4.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;score-tab</br>&nbsp;&nbsp;&nbsp;(stats/xtabs&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;score&nbsp;gender))&nbsp;r.mlmRev/Chem97))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;score-df&nbsp;(base/as-data-frame&nbsp;score-tab))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.9.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Freq&nbsp;(|&nbsp;score&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;score-df&nbsp;:origin&nbsp;0)))</code></div></div><div class="nspbox"><image src="4.9.png"></image></div><div class="nspbox"><a id="Chapter-5"> </a><div><h2>Chapter 5</h2></div></div><div class="nspbox"><div><h3>Figure 5.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"5.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;(|&nbsp;long&nbsp;(cut&nbsp;depth&nbsp;2)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;quakes)))</code></div></div><div class="nspbox"><image src="5.1.png"></image></div><div class="nspbox"><div><h3>Figure 5.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.2.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;(|&nbsp;long&nbsp;(cut&nbsp;depth&nbsp;3)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;"."</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:strip&nbsp;(lat/strip-custom&nbsp;:strip.names&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:var.name&nbsp;"Depth"))))</code></div></div><div class="nspbox"><image src="5.2.png"></image></div><div class="nspbox"><div><h3>Figure 5.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.3.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;long)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(cut&nbsp;depth&nbsp;:breaks&nbsp;(quantile&nbsp;depth&nbsp;(ppoints&nbsp;4&nbsp;1)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;3}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.3.png"></image></div><div class="nspbox"><div><h3>Figure 5.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;depth-col</br>&nbsp;&nbsp;&nbsp;(r/bra&nbsp;(dev/gray-colors&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/cut&nbsp;($&nbsp;quakes&nbsp;'depth)&nbsp;100&nbsp;:label&nbsp;false)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;depth-ord&nbsp;(base/rev&nbsp;(base/order&nbsp;($&nbsp;quakes&nbsp;'depth))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.4.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;long)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;(r/bra&nbsp;quakes&nbsp;depth-ord&nbsp;(r/empty-symbol))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;21</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill&nbsp;(r/bra&nbsp;depth-col&nbsp;depth-ord)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.4.png"></image></div><div class="nspbox"><div><h3>Figure 5.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;(->&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'Magnitude&nbsp;(lat/equal-count&nbsp;($&nbsp;quakes&nbsp;'mag)&nbsp;4))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'color&nbsp;depth-col)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/summary&nbsp;($&nbsp;quakes&nbsp;'Magnitude))</code></div><div class="nspout"><code class="prettyprint lang-clj"></br>Data:</br>&nbsp;&nbsp;&nbsp;[1]&nbsp;4.8&nbsp;4.2&nbsp;5.4&nbsp;4.1&nbsp;4.0&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.7&nbsp;4.3&nbsp;4.4&nbsp;4.6&nbsp;4.4&nbsp;4.4&nbsp;6.1&nbsp;4.3&nbsp;6.0&nbsp;4.5&nbsp;4.4&nbsp;4.4&nbsp;4.5&nbsp;4.2&nbsp;4.4&nbsp;4.7&nbsp;5.4&nbsp;4.0&nbsp;4.6&nbsp;5.2</br>&nbsp;&nbsp;[29]&nbsp;4.5&nbsp;4.4&nbsp;4.6&nbsp;4.7&nbsp;4.8&nbsp;4.0&nbsp;4.5&nbsp;4.3&nbsp;4.5&nbsp;4.6&nbsp;4.1&nbsp;4.4&nbsp;4.7&nbsp;4.6&nbsp;4.4&nbsp;4.3&nbsp;4.6&nbsp;4.9&nbsp;4.5&nbsp;4.4&nbsp;4.3&nbsp;5.1&nbsp;4.2&nbsp;4.0&nbsp;4.6&nbsp;4.3&nbsp;4.2&nbsp;4.4</br>&nbsp;&nbsp;[57]&nbsp;4.5&nbsp;4.0&nbsp;4.4&nbsp;4.3&nbsp;4.7&nbsp;4.1&nbsp;5.0&nbsp;4.6&nbsp;4.9&nbsp;4.7&nbsp;4.1&nbsp;5.0&nbsp;4.5&nbsp;5.5&nbsp;4.0&nbsp;4.5&nbsp;4.3&nbsp;5.2&nbsp;4.4&nbsp;4.3&nbsp;4.1&nbsp;4.5&nbsp;4.2&nbsp;5.3&nbsp;5.2&nbsp;4.5&nbsp;4.6&nbsp;4.3</br>&nbsp;&nbsp;[85]&nbsp;4.0&nbsp;4.3&nbsp;4.7&nbsp;4.5&nbsp;4.2&nbsp;4.3&nbsp;5.1&nbsp;4.7&nbsp;5.2&nbsp;4.2&nbsp;4.2&nbsp;4.0&nbsp;4.5&nbsp;5.2&nbsp;5.1&nbsp;4.7&nbsp;4.1&nbsp;4.6&nbsp;4.7&nbsp;4.7&nbsp;4.6&nbsp;4.2&nbsp;4.4&nbsp;4.6&nbsp;5.7&nbsp;5.0&nbsp;4.5&nbsp;4.2</br>&nbsp;[113]&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.2&nbsp;5.3&nbsp;4.7&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;4.3&nbsp;4.7&nbsp;4.5&nbsp;4.4&nbsp;5.1&nbsp;4.2&nbsp;5.0&nbsp;4.8&nbsp;4.3&nbsp;4.5&nbsp;4.2&nbsp;4.5&nbsp;4.6&nbsp;4.3&nbsp;4.7&nbsp;5.1&nbsp;4.6&nbsp;4.9&nbsp;4.2</br>&nbsp;[141]&nbsp;4.6&nbsp;4.0&nbsp;5.0&nbsp;4.4&nbsp;4.2&nbsp;4.2&nbsp;4.4&nbsp;4.9&nbsp;5.3&nbsp;4.0&nbsp;5.7&nbsp;6.4&nbsp;4.3&nbsp;4.2&nbsp;4.7&nbsp;4.7&nbsp;4.2&nbsp;4.3&nbsp;4.9&nbsp;4.6&nbsp;4.1&nbsp;4.8&nbsp;4.6&nbsp;4.6&nbsp;4.8&nbsp;5.0&nbsp;5.6&nbsp;5.3</br>&nbsp;[169]&nbsp;4.7&nbsp;4.5&nbsp;4.3&nbsp;4.6&nbsp;4.1&nbsp;4.1&nbsp;4.1&nbsp;5.7&nbsp;5.0&nbsp;4.5&nbsp;4.1&nbsp;4.6&nbsp;4.5&nbsp;4.3&nbsp;4.4&nbsp;4.2&nbsp;4.1&nbsp;4.9&nbsp;4.3&nbsp;4.9&nbsp;4.6&nbsp;4.6&nbsp;5.3&nbsp;4.7&nbsp;4.6&nbsp;4.1&nbsp;4.6&nbsp;4.2</br>&nbsp;[197]&nbsp;4.6&nbsp;4.5&nbsp;4.3&nbsp;5.2&nbsp;4.3&nbsp;4.0&nbsp;4.7&nbsp;4.5&nbsp;4.5&nbsp;4.3&nbsp;5.2&nbsp;4.5&nbsp;4.7&nbsp;4.2&nbsp;4.7&nbsp;4.3&nbsp;4.1&nbsp;5.4&nbsp;4.3&nbsp;4.3&nbsp;4.2&nbsp;4.6&nbsp;4.4&nbsp;4.2&nbsp;4.7&nbsp;4.6&nbsp;4.9&nbsp;4.2</br>&nbsp;[225]&nbsp;4.5&nbsp;4.9&nbsp;4.2&nbsp;4.5&nbsp;5.0&nbsp;5.0&nbsp;4.7&nbsp;4.3&nbsp;4.4&nbsp;4.9&nbsp;4.5&nbsp;4.0&nbsp;4.4&nbsp;5.0&nbsp;4.7&nbsp;4.8&nbsp;4.5&nbsp;4.1&nbsp;5.3&nbsp;4.8&nbsp;5.0&nbsp;4.6&nbsp;4.3&nbsp;4.7&nbsp;5.3&nbsp;4.2&nbsp;4.7&nbsp;4.5</br>&nbsp;[253]&nbsp;5.1&nbsp;4.9&nbsp;4.4&nbsp;4.2&nbsp;4.6&nbsp;4.7&nbsp;4.2&nbsp;4.9&nbsp;5.1&nbsp;4.7&nbsp;4.4&nbsp;4.4&nbsp;4.2&nbsp;4.9&nbsp;4.6&nbsp;4.4&nbsp;4.6&nbsp;4.5&nbsp;4.4&nbsp;4.9&nbsp;4.1&nbsp;4.2&nbsp;5.7&nbsp;4.6&nbsp;5.0&nbsp;4.3&nbsp;4.5&nbsp;5.2</br>&nbsp;[281]&nbsp;4.4&nbsp;4.2&nbsp;4.6&nbsp;4.0&nbsp;4.4&nbsp;4.7&nbsp;4.2&nbsp;4.7&nbsp;4.5&nbsp;5.0&nbsp;5.0&nbsp;4.8&nbsp;4.6&nbsp;4.6&nbsp;5.0&nbsp;5.0&nbsp;5.6&nbsp;4.0&nbsp;4.0&nbsp;4.6&nbsp;4.4&nbsp;4.8&nbsp;4.7&nbsp;4.6&nbsp;4.3&nbsp;4.7&nbsp;4.1&nbsp;4.9</br>&nbsp;[309]&nbsp;4.6&nbsp;4.8&nbsp;4.9&nbsp;5.1&nbsp;5.4&nbsp;4.5&nbsp;4.9&nbsp;4.4&nbsp;4.1&nbsp;5.3&nbsp;4.5&nbsp;4.9&nbsp;4.8&nbsp;5.2&nbsp;4.4&nbsp;4.4&nbsp;4.9&nbsp;4.4&nbsp;4.2&nbsp;4.6&nbsp;4.6&nbsp;5.3&nbsp;5.3&nbsp;4.5&nbsp;4.4&nbsp;5.0&nbsp;5.1&nbsp;4.5</br>&nbsp;[337]&nbsp;4.5&nbsp;5.4&nbsp;4.5&nbsp;4.7&nbsp;4.2&nbsp;4.8&nbsp;4.5&nbsp;4.3&nbsp;4.3&nbsp;4.3&nbsp;4.6&nbsp;4.5&nbsp;5.0&nbsp;4.6&nbsp;4.6&nbsp;4.9&nbsp;4.1&nbsp;5.5&nbsp;4.7&nbsp;5.0&nbsp;5.1&nbsp;5.5&nbsp;4.6&nbsp;4.7&nbsp;4.2&nbsp;4.0&nbsp;5.4&nbsp;4.3</br>&nbsp;[365]&nbsp;4.4&nbsp;4.6&nbsp;5.1&nbsp;4.5&nbsp;4.2&nbsp;4.1&nbsp;5.1&nbsp;5.4&nbsp;5.1&nbsp;5.1&nbsp;4.4&nbsp;5.7&nbsp;4.4&nbsp;5.1&nbsp;4.6&nbsp;5.5&nbsp;5.1&nbsp;4.4&nbsp;5.0&nbsp;5.0&nbsp;5.1&nbsp;5.1&nbsp;4.2&nbsp;4.5&nbsp;4.0&nbsp;4.9&nbsp;4.3&nbsp;4.8</br>&nbsp;[393]&nbsp;4.4&nbsp;4.2&nbsp;4.9&nbsp;4.2&nbsp;5.3&nbsp;5.0&nbsp;5.7&nbsp;5.3&nbsp;4.7&nbsp;4.6&nbsp;4.3&nbsp;5.4&nbsp;4.4&nbsp;4.3&nbsp;4.3&nbsp;4.7&nbsp;4.4&nbsp;4.2&nbsp;4.5&nbsp;4.8&nbsp;4.8&nbsp;4.3&nbsp;4.4&nbsp;5.1&nbsp;4.4&nbsp;4.4&nbsp;4.3&nbsp;4.8</br>&nbsp;[421]&nbsp;4.3&nbsp;4.5&nbsp;4.1&nbsp;5.1&nbsp;4.7&nbsp;4.6&nbsp;4.7&nbsp;4.6&nbsp;4.4&nbsp;4.2&nbsp;4.1&nbsp;4.7&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.3&nbsp;4.4&nbsp;4.5&nbsp;4.5&nbsp;4.7&nbsp;4.3&nbsp;4.7&nbsp;4.8&nbsp;4.6&nbsp;5.1&nbsp;4.7&nbsp;4.3&nbsp;5.1</br>&nbsp;[449]&nbsp;5.5&nbsp;4.5&nbsp;4.3&nbsp;4.3&nbsp;4.7&nbsp;4.3&nbsp;4.3&nbsp;4.6&nbsp;4.5&nbsp;4.5&nbsp;5.4&nbsp;4.6&nbsp;4.4&nbsp;5.0&nbsp;5.2&nbsp;4.4&nbsp;5.1&nbsp;4.4&nbsp;4.4&nbsp;4.8&nbsp;4.4&nbsp;4.7&nbsp;4.7&nbsp;4.4&nbsp;4.3&nbsp;5.0&nbsp;4.5&nbsp;4.6</br>&nbsp;[477]&nbsp;5.4&nbsp;4.6&nbsp;4.5&nbsp;4.4&nbsp;4.5&nbsp;4.1&nbsp;4.0&nbsp;4.9&nbsp;4.1&nbsp;5.2&nbsp;4.4&nbsp;4.1&nbsp;4.9&nbsp;4.6&nbsp;4.5&nbsp;4.8&nbsp;4.2&nbsp;4.2&nbsp;4.1&nbsp;5.5&nbsp;4.4&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;4.9&nbsp;4.6&nbsp;4.5&nbsp;4.4</br>&nbsp;[505]&nbsp;4.6&nbsp;4.2&nbsp;4.7&nbsp;4.4&nbsp;4.5&nbsp;4.9&nbsp;4.7&nbsp;5.5&nbsp;4.7&nbsp;4.6&nbsp;4.1&nbsp;4.7&nbsp;4.6&nbsp;4.3&nbsp;4.4&nbsp;4.7&nbsp;4.3&nbsp;4.1&nbsp;4.7&nbsp;4.5&nbsp;5.5&nbsp;4.5&nbsp;4.6&nbsp;5.1&nbsp;4.4&nbsp;4.7&nbsp;5.5&nbsp;4.6</br>&nbsp;[533]&nbsp;4.0&nbsp;4.6&nbsp;4.8&nbsp;4.7&nbsp;4.7&nbsp;4.2&nbsp;5.4&nbsp;4.6&nbsp;5.5&nbsp;4.2&nbsp;4.5&nbsp;4.5&nbsp;4.8&nbsp;4.6&nbsp;5.4&nbsp;4.6&nbsp;5.0&nbsp;4.3&nbsp;4.3&nbsp;4.8&nbsp;4.7&nbsp;4.7&nbsp;4.8&nbsp;4.2&nbsp;4.2&nbsp;5.9&nbsp;4.6&nbsp;4.5</br>&nbsp;[561]&nbsp;4.9&nbsp;4.7&nbsp;4.9&nbsp;5.3&nbsp;4.2&nbsp;4.2&nbsp;4.5&nbsp;5.2&nbsp;4.5&nbsp;5.6&nbsp;5.2&nbsp;4.8&nbsp;4.5&nbsp;5.0&nbsp;4.4&nbsp;4.5&nbsp;4.6&nbsp;4.5&nbsp;5.2&nbsp;5.1&nbsp;4.8&nbsp;4.3&nbsp;5.1&nbsp;4.7&nbsp;4.6&nbsp;4.8&nbsp;4.6&nbsp;4.4</br>&nbsp;[589]&nbsp;4.6&nbsp;5.1&nbsp;4.3&nbsp;4.4&nbsp;4.7&nbsp;4.8&nbsp;4.1&nbsp;4.6&nbsp;4.9&nbsp;4.0&nbsp;4.7&nbsp;4.7&nbsp;5.2&nbsp;4.6&nbsp;4.6&nbsp;4.9&nbsp;5.7&nbsp;4.7&nbsp;4.4&nbsp;4.9&nbsp;4.8&nbsp;4.6&nbsp;4.4&nbsp;4.8&nbsp;4.7&nbsp;4.2&nbsp;5.1&nbsp;4.8</br>&nbsp;[617]&nbsp;4.9&nbsp;5.1&nbsp;4.3&nbsp;4.4&nbsp;4.7&nbsp;4.7&nbsp;5.3&nbsp;5.1&nbsp;4.9&nbsp;4.5&nbsp;4.7&nbsp;4.2&nbsp;5.1&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;4.4&nbsp;4.5&nbsp;4.3&nbsp;5.6&nbsp;4.0&nbsp;5.0&nbsp;4.2&nbsp;4.6&nbsp;4.6&nbsp;4.5&nbsp;5.0&nbsp;4.7</br>&nbsp;[645]&nbsp;4.6&nbsp;4.8&nbsp;4.6&nbsp;4.4&nbsp;5.6&nbsp;4.2&nbsp;5.4&nbsp;4.8&nbsp;5.6&nbsp;4.4&nbsp;4.7&nbsp;4.6&nbsp;5.1&nbsp;4.6&nbsp;4.5&nbsp;4.2&nbsp;4.8&nbsp;4.9&nbsp;5.5&nbsp;5.0&nbsp;4.2&nbsp;5.2&nbsp;4.8&nbsp;4.4&nbsp;4.8&nbsp;4.4&nbsp;4.1&nbsp;4.9</br>&nbsp;[673]&nbsp;4.6&nbsp;4.5&nbsp;5.3&nbsp;4.8&nbsp;4.6&nbsp;4.8&nbsp;4.7&nbsp;4.9&nbsp;5.3&nbsp;4.4&nbsp;4.6&nbsp;4.3&nbsp;4.4&nbsp;4.2&nbsp;4.1&nbsp;4.2&nbsp;5.0&nbsp;4.1&nbsp;4.3&nbsp;5.2&nbsp;4.2&nbsp;4.5&nbsp;4.4&nbsp;4.4&nbsp;5.0&nbsp;4.0&nbsp;4.8&nbsp;5.0</br>&nbsp;[701]&nbsp;4.2&nbsp;5.2&nbsp;5.2&nbsp;4.5&nbsp;4.3&nbsp;4.5&nbsp;4.6&nbsp;5.1&nbsp;4.4&nbsp;4.3&nbsp;4.7&nbsp;5.6&nbsp;4.9&nbsp;5.1&nbsp;4.6&nbsp;4.4&nbsp;4.8&nbsp;4.2&nbsp;4.7&nbsp;4.1&nbsp;4.7&nbsp;4.0&nbsp;4.9&nbsp;5.0&nbsp;4.5&nbsp;4.4&nbsp;4.0&nbsp;4.5</br>&nbsp;[729]&nbsp;4.7&nbsp;4.4&nbsp;4.7&nbsp;4.7&nbsp;4.0&nbsp;4.2&nbsp;4.5&nbsp;4.7&nbsp;4.5&nbsp;4.1&nbsp;4.6&nbsp;4.3&nbsp;4.6&nbsp;5.2&nbsp;4.6&nbsp;4.7&nbsp;5.0&nbsp;5.2&nbsp;4.4&nbsp;4.6&nbsp;4.5&nbsp;4.0&nbsp;4.2&nbsp;5.3&nbsp;5.9&nbsp;4.9&nbsp;4.5&nbsp;4.4</br>&nbsp;[757]&nbsp;5.4&nbsp;5.3&nbsp;5.1&nbsp;4.1&nbsp;4.3&nbsp;4.5&nbsp;4.1&nbsp;5.1&nbsp;5.3&nbsp;4.5&nbsp;4.1&nbsp;4.4&nbsp;4.7&nbsp;4.0&nbsp;5.1&nbsp;4.0&nbsp;4.3&nbsp;4.3&nbsp;4.0&nbsp;4.1&nbsp;4.4&nbsp;4.3&nbsp;4.2&nbsp;4.0&nbsp;4.5&nbsp;4.7&nbsp;5.0&nbsp;4.3</br>&nbsp;[785]&nbsp;5.1&nbsp;4.7&nbsp;5.3&nbsp;5.0&nbsp;4.5&nbsp;5.0&nbsp;4.1&nbsp;4.9&nbsp;4.1&nbsp;4.0&nbsp;4.4&nbsp;4.5&nbsp;4.4&nbsp;4.5&nbsp;4.3&nbsp;4.3&nbsp;5.0&nbsp;4.5&nbsp;4.5&nbsp;4.4&nbsp;4.5&nbsp;4.1&nbsp;4.9&nbsp;4.7&nbsp;4.3&nbsp;4.6&nbsp;4.6&nbsp;5.2</br>&nbsp;[813]&nbsp;4.5&nbsp;4.3&nbsp;4.6&nbsp;4.0&nbsp;4.5&nbsp;4.8&nbsp;4.6&nbsp;4.1&nbsp;4.9&nbsp;4.7&nbsp;4.1&nbsp;4.3&nbsp;4.4&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.4&nbsp;4.6&nbsp;4.2&nbsp;4.1&nbsp;4.2&nbsp;4.0&nbsp;4.1&nbsp;4.1&nbsp;4.7&nbsp;4.8&nbsp;5.1&nbsp;5.0</br>&nbsp;[841]&nbsp;4.8&nbsp;4.4&nbsp;5.0&nbsp;5.2&nbsp;4.2&nbsp;4.1&nbsp;4.8&nbsp;4.5&nbsp;5.0&nbsp;5.1&nbsp;4.1&nbsp;4.7&nbsp;5.2&nbsp;4.8&nbsp;4.5&nbsp;4.0&nbsp;4.7&nbsp;4.1&nbsp;4.3&nbsp;4.3&nbsp;4.0&nbsp;4.7&nbsp;4.1&nbsp;4.2&nbsp;4.8&nbsp;4.8&nbsp;4.2&nbsp;4.2</br>&nbsp;[869]&nbsp;5.7&nbsp;6.0&nbsp;4.2&nbsp;4.5&nbsp;4.9&nbsp;4.4&nbsp;4.0&nbsp;4.3&nbsp;4.2&nbsp;4.5&nbsp;4.8&nbsp;4.4&nbsp;4.2&nbsp;4.2&nbsp;5.0&nbsp;4.2&nbsp;5.2&nbsp;4.5&nbsp;4.6&nbsp;5.0&nbsp;5.0&nbsp;5.4&nbsp;4.8&nbsp;4.2&nbsp;5.5&nbsp;4.3&nbsp;4.1&nbsp;4.4</br>&nbsp;[897]&nbsp;4.9&nbsp;4.5&nbsp;4.9&nbsp;4.0&nbsp;4.5&nbsp;5.0&nbsp;4.9&nbsp;4.5&nbsp;4.2&nbsp;4.2&nbsp;4.2&nbsp;5.2&nbsp;4.3&nbsp;5.1&nbsp;4.6&nbsp;4.6&nbsp;4.4&nbsp;4.4&nbsp;4.9&nbsp;5.1&nbsp;4.2&nbsp;4.7&nbsp;4.0&nbsp;5.6&nbsp;5.3&nbsp;5.0&nbsp;4.3&nbsp;4.1</br>&nbsp;[925]&nbsp;5.1&nbsp;4.5&nbsp;4.9&nbsp;5.4&nbsp;4.7&nbsp;4.8&nbsp;4.5&nbsp;4.2&nbsp;4.6&nbsp;4.6&nbsp;5.6&nbsp;5.4&nbsp;4.0&nbsp;5.2&nbsp;4.2&nbsp;4.7&nbsp;4.3&nbsp;4.8&nbsp;4.6&nbsp;5.4&nbsp;4.8&nbsp;4.6&nbsp;4.2&nbsp;5.5&nbsp;4.7&nbsp;4.7&nbsp;4.5&nbsp;5.5</br>&nbsp;[953]&nbsp;4.5&nbsp;4.1&nbsp;4.0&nbsp;4.3&nbsp;4.7&nbsp;4.9&nbsp;4.5&nbsp;4.7&nbsp;4.5&nbsp;4.8&nbsp;4.3&nbsp;4.1&nbsp;5.4&nbsp;4.1&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;5.4&nbsp;4.4&nbsp;5.2&nbsp;4.7&nbsp;4.9&nbsp;4.9&nbsp;4.2&nbsp;4.4&nbsp;4.4&nbsp;4.3&nbsp;4.9</br>&nbsp;[981]&nbsp;5.0&nbsp;4.7&nbsp;4.9&nbsp;4.3&nbsp;4.5&nbsp;4.2&nbsp;5.2&nbsp;4.8&nbsp;4.0&nbsp;4.7&nbsp;4.3&nbsp;4.3&nbsp;4.9&nbsp;4.0&nbsp;4.2&nbsp;4.4&nbsp;4.7&nbsp;4.5&nbsp;4.5&nbsp;6.0</br></br>Intervals:</br>&nbsp;&nbsp;&nbsp;min&nbsp;&nbsp;max&nbsp;count</br>1&nbsp;3.95&nbsp;4.55&nbsp;&nbsp;&nbsp;484</br>2&nbsp;4.25&nbsp;4.75&nbsp;&nbsp;&nbsp;492</br>3&nbsp;4.45&nbsp;4.95&nbsp;&nbsp;&nbsp;425</br>4&nbsp;4.65&nbsp;6.45&nbsp;&nbsp;&nbsp;415</br></br>Overlap&nbsp;between&nbsp;adjacent&nbsp;intervals:</br>[1]&nbsp;293&nbsp;306&nbsp;217</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes-ordered&nbsp;(r/bra&nbsp;quakes&nbsp;depth-ord&nbsp;(r/empty-symbol)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.5.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;(|&nbsp;long&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y&nbsp;fill.color&nbsp;...&nbsp;subscripts]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;fill&nbsp;(bra&nbsp;fill.color&nbsp;subscripts))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;-1&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;x&nbsp;y&nbsp;:pch&nbsp;21&nbsp;:fill&nbsp;fill&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill.color&nbsp;($&nbsp;quakes-ordered&nbsp;'color)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.5.png"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;depth-breaks</br>&nbsp;&nbsp;&nbsp;(lat/do-breaks&nbsp;(base/range&nbsp;($&nbsp;quakes-ordered&nbsp;'depth))&nbsp;50))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;(->&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'color</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/level-colors&nbsp;($&nbsp;quakes-ordered&nbsp;'depth)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;depth-breaks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.regions&nbsp;dev/gray-colors))))</code></div></div><div class="nspbox"><div><h3>Figure 5.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.6.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;(|&nbsp;long&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'color</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y&nbsp;groups&nbsp;...&nbsp;subscripts]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;fill&nbsp;(bra&nbsp;groups&nbsp;subscripts))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;-1&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;x&nbsp;y&nbsp;:pch&nbsp;21&nbsp;:fill&nbsp;fill&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:legend&nbsp;{:right&nbsp;{:fun&nbsp;lat/draw-colorkey,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:args&nbsp;{:key&nbsp;{:col&nbsp;dev/grey-colors,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;depth-breaks},</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:draw&nbsp;false}}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.6.png"></image></div><div class="nspbox"><div><h3>Figure 5.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;types-plain&nbsp;["p"&nbsp;"l"&nbsp;"o"&nbsp;"r"&nbsp;"g"&nbsp;"s"&nbsp;"S"&nbsp;"h"&nbsp;"a"&nbsp;"smooth"])</br>&nbsp;(def&nbsp;types-horiz&nbsp;["s"&nbsp;"S"&nbsp;"h"&nbsp;"a"&nbsp;"smooth"])</br>&nbsp;(def&nbsp;horiz</br>&nbsp;&nbsp;&nbsp;(base/rep&nbsp;[false&nbsp;true]&nbsp;[(count&nbsp;types-plain)&nbsp;(count&nbsp;types-horiz)]))</br>&nbsp;(def&nbsp;types&nbsp;(concat&nbsp;types-plain&nbsp;types-horiz))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/set-seed&nbsp;2007041)</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;(<-&nbsp;'x&nbsp;(base/sample&nbsp;(base/seq&nbsp;-10&nbsp;10&nbsp;:length&nbsp;15)&nbsp;30&nbsp;true)))</br>&nbsp;(def&nbsp;n&nbsp;(stats/rnorm&nbsp;(base/length&nbsp;x)&nbsp;:sd&nbsp;5))</br>&nbsp;(def&nbsp;y</br>&nbsp;&nbsp;&nbsp;(<-&nbsp;'y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;(fn&nbsp;[x&nbsp;n]&nbsp;(+&nbsp;x&nbsp;(*&nbsp;0.25&nbsp;(inc&nbsp;x)&nbsp;(inc&nbsp;x))&nbsp;n))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj&nbsp;n))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.7.png")</br>&nbsp;&nbsp;&nbsp;(r/bra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;y&nbsp;(|&nbsp;x&nbsp;(gl&nbsp;1&nbsp;~(count&nbsp;types))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"type"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;[:!list&nbsp;["horizontal=TRUE"&nbsp;"horizontal=FALSE"]&nbsp;:y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1/6&nbsp;4/6]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:as.table&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[5&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:between&nbsp;{:y&nbsp;[0&nbsp;1]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:strip</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;(~$&nbsp;(trellis.par.get&nbsp;"strip.background")&nbsp;col)&nbsp;1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;type&nbsp;(bra&nbsp;~types&nbsp;(panel.number)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(grid.text&nbsp;:lab&nbsp;(sprintf&nbsp;"%s"&nbsp;type)&nbsp;:x&nbsp;0.5&nbsp;:y&nbsp;0.5)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(grid.rect))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:alternating&nbsp;[0&nbsp;2],&nbsp;:tck&nbsp;[0&nbsp;0.7],&nbsp;:draw&nbsp;false}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.settings&nbsp;{:layout.widths&nbsp;{:strip.left&nbsp;[1&nbsp;0&nbsp;0&nbsp;0&nbsp;0]}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;type&nbsp;(bra&nbsp;~types&nbsp;(panel.number)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;horizontal&nbsp;(bra&nbsp;~horiz&nbsp;(panel.number)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;...&nbsp;:type&nbsp;type&nbsp;:horizontal&nbsp;horizontal))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/rep&nbsp;1&nbsp;(base/length&nbsp;types))))</code></div></div><div class="nspbox"><image src="5.7.png"></image></div><div class="nspbox"><div><h3>Figure 5.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.8.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;accel&nbsp;distance)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;-1&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;...)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.loess&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="5.8.png"></image></div><div class="nspbox"><div><h3>Figure 5.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.9.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;accel&nbsp;distance)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["g"&nbsp;"p"&nbsp;"smooth"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="5.9.png"></image></div><div class="nspbox"><div><h3>Figure 5.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;earthquake</br>&nbsp;&nbsp;&nbsp;($<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'Magnitude</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/equal-count&nbsp;($&nbsp;r.MEMSS/Earthquake&nbsp;'Richter)&nbsp;3&nbsp;:overlap&nbsp;0.1)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;coef</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(log2&nbsp;accel)&nbsp;(log2&nbsp;distance))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/lm&nbsp;:data&nbsp;earthquake)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/coef)))</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;(Intercept)&nbsp;log2(distance)&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;0.26633556&nbsp;&nbsp;&nbsp;&nbsp;-0.82465569&nbsp;</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.10.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;accel&nbsp;(|&nbsp;distance&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.line&nbsp;"grey"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lwd&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.abline&nbsp;:reg&nbsp;~coef)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.locfit&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="5.10.png"></image></div><div class="nspbox"><div><h3>Figure 5.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"5.11.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(+&nbsp;min.temp&nbsp;max.temp&nbsp;precip)&nbsp;(|&nbsp;day&nbsp;month))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;late/SeatacWeather</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Temperature&nbsp;and&nbsp;Rainfall"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black")))</code></div></div><div class="nspbox"><image src="5.11.png"></image></div><div class="nspbox"><div><h3>Figure 5.12</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;maxp&nbsp;(base/max&nbsp;($&nbsp;late/SeatacWeather&nbsp;'precip)&nbsp;:na.rm&nbsp;true))</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;1.77</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.12.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(+&nbsp;min.temp&nbsp;max.temp&nbsp;(I&nbsp;(*&nbsp;80&nbsp;(/&nbsp;precip&nbsp;~maxp))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;day&nbsp;month))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;late/SeatacWeather</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Temperature&nbsp;and&nbsp;Rainfall"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["l"&nbsp;"l"&nbsp;"h"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:distribute.type&nbsp;true)))</code></div></div><div class="nspbox"><image src="5.12.png"></image></div><div class="nspbox"><div><h3>Figure 5.13</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.13.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/trellis-last-object)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Temperature&nbsp;(Fahrenheit)&nbsp;\n&nbsp;and&nbsp;Rainfall&nbsp;(inches)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;...)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(if&nbsp;(==&nbsp;(panel.number)&nbsp;2)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(do&nbsp;(<-&nbsp;at&nbsp;(pretty&nbsp;[0&nbsp;~maxp]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.axis&nbsp;"right"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:half&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;(/&nbsp;(*&nbsp;at&nbsp;80)&nbsp;~maxp)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:labels&nbsp;at))))))</code></div></div><div class="nspbox"><image src="5.13.png"></image></div><div class="nspbox"><div><h3>Figure 5.14</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"5.14.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(asinh&nbsp;SSC.H)&nbsp;(|&nbsp;(asinh&nbsp;FL2.H)&nbsp;Days))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;r.hexbin/panel-hexbinplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect.ratio&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:trans&nbsp;base/sqrt)))</code></div></div><div class="nspbox"><image src="5.14.png"></image></div><div class="nspbox"><div><h3>Figure 5.15</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"5.15.png")&nbsp;(lat/splom&nbsp;USArrests))</code></div></div><div class="nspbox"><image src="5.15.png"></image></div><div class="nspbox"><div><h3>Figure 5.16</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"5.16.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(bra&nbsp;USArrests&nbsp;[3&nbsp;1&nbsp;2&nbsp;4])&nbsp;state.region))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/splom&nbsp;:pscales&nbsp;0&nbsp;:type&nbsp;["g"&nbsp;"p"&nbsp;"smooth"])))</code></div></div><div class="nspbox"><image src="5.16.png"></image></div><div class="nspbox"><div><h3>Figure 5.17</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.17.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(data.frame&nbsp;mpg&nbsp;disp&nbsp;hp&nbsp;drat&nbsp;wt&nbsp;qsec))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/splom</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;mtcars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'cyl</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pscales&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:varnames&nbsp;["Miles\nper\ngallon"&nbsp;"Displacement\n(cu.&nbsp;in.)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Gross\nhorsepower"&nbsp;"Rear\naxle\nratio"&nbsp;"Weight"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"1/4&nbsp;mile\ntime"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;3,&nbsp;:title&nbsp;"Number&nbsp;of&nbsp;Cylinders"})))</code></div></div><div class="nspbox"><image src="5.17.png"></image></div><div class="nspbox"><div><h3>Figure 5.18</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.18.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;(bra&nbsp;mtcars&nbsp;[1&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7])&nbsp;(factor&nbsp;cyl)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/parallel&nbsp;mtcars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'carb</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;(lat/simpleKey&nbsp;(->&nbsp;($&nbsp;mtcars&nbsp;'carb)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/factor)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/levels))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lines&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:space&nbsp;"top"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[3&nbsp;1])))</code></div></div><div class="nspbox"><image src="5.18.png"></image></div><div class="nspbox"><div><h3>Figure 5.19</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"5.19.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;(asinh&nbsp;(bra&nbsp;gvhd10&nbsp;[3&nbsp;2&nbsp;4&nbsp;1&nbsp;5])))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/parallel&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(==&nbsp;Days&nbsp;13)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0.01</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1)))</code></div></div><div class="nspbox"><image src="5.19.png"></image></div><hr /><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/lattice.clj">clojisr-examples.lattice</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Tue Mar 24 00:30:24 CET 2020.</small></i><hr /></div></div></body></html></html>