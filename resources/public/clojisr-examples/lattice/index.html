<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /></head><body><div><h1>clojisr-examples.lattice</h1><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/lattice.clj">clojisr-examples.lattice</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Tue Mar 24 23:53:57 CET 2020.</small></i><hr /></div><div>Table of contents<ul><li><a href="#Setup">Setup</a></li><li><a href="#Chapter-1">Chapter-1</a></li><li><a href="#Chapter-2">Chapter-2</a></li><li><a href="#Chapter-3">Chapter-3</a></li><li><a href="#Chapter-4">Chapter-4</a></li><li><a href="#Chapter-5">Chapter-5</a></li><li><a href="#Chapter-6">Chapter-6</a></li><li><a href="#Chapter-7">Chapter-7</a></li><li><a href="#Chapter-8">Chapter-8</a></li></ul><hr /></div><div class="nspbox"><div><h1>Lattice</h1></div></div><div class="nspbox"><div><p>Examples from the page: http://lmdvr.r-forge.r-project.org/figures/figures.html</p></div></div><div class="nspbox"><a id="Setup"> </a><div><h2>Setup</h2></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[r+&nbsp;r&nbsp;r->clj&nbsp;clj->r&nbsp;clj->java</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;java->clj&nbsp;java->r&nbsp;r->java]]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;'[clojisr.v1.applications.plotting</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:refer&nbsp;[plot->file]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r</br>&nbsp;&nbsp;&nbsp;'[lattice&nbsp;:as&nbsp;lat]</br>&nbsp;&nbsp;&nbsp;'[latticeExtra&nbsp;:as&nbsp;late]</br>&nbsp;&nbsp;&nbsp;'[stats&nbsp;:as&nbsp;stats]</br>&nbsp;&nbsp;&nbsp;'[mlmRev]</br>&nbsp;&nbsp;&nbsp;'[MEMSS]</br>&nbsp;&nbsp;&nbsp;'[MASS]</br>&nbsp;&nbsp;&nbsp;'[grDevices&nbsp;:as&nbsp;dev]</br>&nbsp;&nbsp;&nbsp;'[graphics&nbsp;:as&nbsp;g]</br>&nbsp;&nbsp;&nbsp;'[base&nbsp;:refer&nbsp;[$&nbsp;$<-&nbsp;<-&nbsp;summary]&nbsp;:as</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base]</br>&nbsp;&nbsp;&nbsp;'[utils]</br>&nbsp;&nbsp;&nbsp;'[grid]</br>&nbsp;&nbsp;&nbsp;'[locfit]</br>&nbsp;&nbsp;&nbsp;'[hexbin]</br>&nbsp;&nbsp;&nbsp;'[maps]</br>&nbsp;&nbsp;&nbsp;'[copula]</br>&nbsp;&nbsp;&nbsp;'[RColorBrewer]</br>&nbsp;&nbsp;&nbsp;'[datasets&nbsp;:refer&nbsp;:all])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;r.base/version)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:platform&nbsp;["x86_64-pc-linux-gnu"],</br>&nbsp;:arch&nbsp;["x86_64"],</br>&nbsp;:os&nbsp;["linux-gnu"],</br>&nbsp;:system&nbsp;["x86_64,&nbsp;linux-gnu"],</br>&nbsp;:status&nbsp;[""],</br>&nbsp;:major&nbsp;["3"],</br>&nbsp;:minor&nbsp;["6.3"],</br>&nbsp;:year&nbsp;["2020"],</br>&nbsp;:month&nbsp;["02"],</br>&nbsp;:day&nbsp;["29"],</br>&nbsp;:svn&nbsp;rev&nbsp;["77875"],</br>&nbsp;:language&nbsp;["R"],</br>&nbsp;:version.string&nbsp;["R&nbsp;version&nbsp;3.6.3&nbsp;(2020-02-29)"],</br>&nbsp;:nickname&nbsp;["Holding&nbsp;the&nbsp;Windsock"]}</code></div></div><div class="nspbox"><a id="Chapter-1"> </a><div><h2>Chapter 1</h2></div></div><div class="nspbox"><div><h3>Figure 1.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj</br>&nbsp;&nbsp;&nbsp;(stats/xtabs&nbsp;'(formula&nbsp;nil&nbsp;score)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.mlmRev/Chem97))</code></div><div class="nspout"><code class="prettyprint lang-clj">[3688&nbsp;3627&nbsp;4619&nbsp;5739&nbsp;6668&nbsp;6681]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"1.1.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/histogram&nbsp;:data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.mlmRev/Chem97)))</code></div></div><div class="nspbox"><image src="1.1.png"></image></div><div class="nspbox"><div><h3>Figure 1.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"1.2.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ref&nbsp;true)))</code></div></div><div class="nspbox"><image src="1.2.png"></image></div><div class="nspbox"><div><h3>Figure 1.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"1.3.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;gcsescore)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ref&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;3})))</code></div></div><div class="nspbox"><image src="1.3.png"></image></div><div class="nspbox"><div><h3>Figure 1.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;tp1</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/histogram&nbsp;:data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.mlmRev/Chem97)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;tp2</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;gcsescore)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title&nbsp;"score"})))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/class&nbsp;tp2)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;"trellis"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/summary&nbsp;tp1))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:call</br>&nbsp;[histogram</br>&nbsp;&nbsp;[(&nbsp;[~&nbsp;[|&nbsp;gcsescore&nbsp;[factor&nbsp;score]]]]</br>&nbsp;&nbsp;[$&nbsp;.MEM&nbsp;xf8c4f54f09b24f41]],</br>&nbsp;:packet.sizes&nbsp;[3688.0&nbsp;3627.0&nbsp;4619.0&nbsp;5739.0&nbsp;6668.0&nbsp;6681.0],</br>&nbsp;:index.cond&nbsp;[[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6]],</br>&nbsp;:perm.cond&nbsp;[1]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"1.4.png")</br>&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(g/plot&nbsp;tp1&nbsp;:split&nbsp;[1&nbsp;1&nbsp;1&nbsp;2])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(g/plot&nbsp;tp2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:split&nbsp;[1&nbsp;2&nbsp;1&nbsp;2]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:newpage&nbsp;false)))</code></div></div><div class="nspbox"><image src="1.4.png"></image></div><div class="nspbox"><a id="Chapter-2"> </a><div><h2>Chapter 2</h2></div></div><div class="nspbox"><div><h3>Figure 2.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;yield</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;nitro</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;Variety&nbsp;Block)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;r.MEMSS/Oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"o")))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#(base/print&nbsp;tp1-oats))</code></div></div><div class="nspbox"><image src="2.1.png"></image></div><div class="nspbox"><div><h3>Figure 2.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/dim&nbsp;tp1-oats)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;3&nbsp;6</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/dimnames&nbsp;tp1-oats))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:Variety&nbsp;["Golden&nbsp;Rain"&nbsp;"Marvellous"&nbsp;"Victory"],</br>&nbsp;:Block&nbsp;["I"&nbsp;"II"&nbsp;"III"&nbsp;"IV"&nbsp;"V"&nbsp;"VI"]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(stats/xtabs</br>&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;Variety&nbsp;Block))</br>&nbsp;&nbsp;&nbsp;:data</br>&nbsp;&nbsp;&nbsp;r.MEMSS/Oats)</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Block</br>Variety&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;II&nbsp;III&nbsp;IV&nbsp;V&nbsp;VI</br>&nbsp;&nbsp;Golden&nbsp;Rain&nbsp;4&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;4&nbsp;&nbsp;4</br>&nbsp;&nbsp;Marvellous&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;4&nbsp;&nbsp;4</br>&nbsp;&nbsp;Victory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;4&nbsp;4&nbsp;&nbsp;4</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(base/summary&nbsp;tp1-oats))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:call</br>&nbsp;[xyplot</br>&nbsp;&nbsp;[(&nbsp;[~&nbsp;yield&nbsp;[|&nbsp;nitro&nbsp;[+&nbsp;Variety&nbsp;Block]]]]</br>&nbsp;&nbsp;[$&nbsp;.MEM&nbsp;x869fabaa631c42a9]</br>&nbsp;&nbsp;["o"]],</br>&nbsp;:packet.sizes</br>&nbsp;[4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0],</br>&nbsp;:index.cond&nbsp;[[1&nbsp;2&nbsp;3]&nbsp;[1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6]],</br>&nbsp;:perm.cond&nbsp;[1&nbsp;2]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj</br>&nbsp;&nbsp;&nbsp;(base/summary&nbsp;(r/bra&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)))</code></div><div class="nspout"><code class="prettyprint lang-clj">{:call</br>&nbsp;[xyplot</br>&nbsp;&nbsp;[(&nbsp;[~&nbsp;yield&nbsp;[|&nbsp;nitro&nbsp;[+&nbsp;Variety&nbsp;Block]]]]</br>&nbsp;&nbsp;[$&nbsp;.MEM&nbsp;x869fabaa631c42a9]</br>&nbsp;&nbsp;["o"]</br>&nbsp;&nbsp;new.levs],</br>&nbsp;:packet.sizes</br>&nbsp;[4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0</br>&nbsp;&nbsp;4.0],</br>&nbsp;:index.cond&nbsp;[[1&nbsp;2&nbsp;3]&nbsp;[1]],</br>&nbsp;:perm.cond&nbsp;[1&nbsp;2]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.2.png")</br>&nbsp;&nbsp;&nbsp;(r/bra&nbsp;tp1-oats&nbsp;(r/empty-symbol)&nbsp;1))</code></div></div><div class="nspbox"><image src="2.2.png"></image></div><div class="nspbox"><div><h3>Figure 2.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.3.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/update&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"xy"))</code></div></div><div class="nspbox"><image src="2.3.png"></image></div><div class="nspbox"><div><h3>Figure 2.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"2.4.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/update&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[0&nbsp;18]))</code></div></div><div class="nspbox"><image src="2.4.png"></image></div><div class="nspbox"><div><h3>Figure 2.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.5.png")</br>&nbsp;&nbsp;&nbsp;(stats/update&nbsp;tp1-oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[0&nbsp;18]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:between&nbsp;{:x&nbsp;[0&nbsp;0&nbsp;0.5],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;0.5}))</code></div></div><div class="nspbox"><image src="2.5.png"></image></div><div class="nspbox"><div><h3>Figure 2.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.6.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;variety&nbsp;(|&nbsp;yield&nbsp;site))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;lat/barley</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;6]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'year</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:space&nbsp;"right"})))</code></div></div><div class="nspbox"><image src="2.6.png"></image></div><div class="nspbox"><div><h3>Figure 2.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;key-variety</br>&nbsp;&nbsp;&nbsp;{:space&nbsp;"right",</br>&nbsp;&nbsp;&nbsp;&nbsp;:text&nbsp;'[:!list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(levels&nbsp;($&nbsp;r.MEMSS/Oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Variety))],</br>&nbsp;&nbsp;&nbsp;&nbsp;:points&nbsp;{:pch&nbsp;(range&nbsp;1&nbsp;3),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"}})</code></div><div class="nspout"><code class="prettyprint lang-clj">{:space&nbsp;"right",</br>&nbsp;:text&nbsp;[:!list&nbsp;(levels&nbsp;($&nbsp;r.MEMSS/Oats&nbsp;Variety))],</br>&nbsp;:points&nbsp;{:pch&nbsp;(1&nbsp;2),&nbsp;:col&nbsp;"black"}}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.7.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;yield&nbsp;(|&nbsp;nitro&nbsp;Block))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.MEMSS/Oats</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"o"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Variety</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;key-variety</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;(range&nbsp;1&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.line&nbsp;"darkgrey"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.symbol&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Nitrogen&nbsp;concentration&nbsp;(cwt/acre)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Yield&nbsp;(bushels/acre)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Yield&nbsp;of&nbsp;three&nbsp;varieties&nbsp;of&nbsp;oats"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sub</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"A&nbsp;3&nbsp;x&nbsp;4&nbsp;split&nbsp;plot&nbsp;experiment&nbsp;with&nbsp;6&nbsp;blocks")))</code></div></div><div class="nspbox"><image src="2.7.png"></image></div><div class="nspbox"><div><h3>Figure 2.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.8.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;Freq&nbsp;(+&nbsp;Sex&nbsp;Age)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;(base/as-data-frame</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Titanic)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Survived</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:stack&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[4&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:title&nbsp;"Survived",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;2})))</code></div></div><div class="nspbox"><image src="2.8.png"></image></div><div class="nspbox"><div><h3>Figure 2.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.9.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;Freq&nbsp;(+&nbsp;Sex&nbsp;Age)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;(base/as-data-frame</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Titanic)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Survived</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:stack&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[4&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:title&nbsp;"Survived",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;"free"})))</code></div></div><div class="nspbox"><image src="2.9.png"></image></div><div class="nspbox"><div><h3>Figure 2.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;bc-titanic</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;Freq&nbsp;(+&nbsp;Sex&nbsp;Age)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;(base/as-data-frame</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Titanic)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'Survived</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:stack&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[4&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:title&nbsp;"Survived",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;"free"})))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.10.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bc-titanic</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;0&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.barchart&nbsp;...))))</code></div></div><div class="nspbox"><image src="2.10.png"></image></div><div class="nspbox"><div><h3>Figure 2.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"2.11.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bc-titanic</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[...&nbsp;border]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.barchart</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:border</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"transparent"))))</code></div></div><div class="nspbox"><image src="2.11.png"></image></div><div class="nspbox"><a id="Chapter-3"> </a><div><h2>Chapter 3</h2></div></div><div class="nspbox"><div><h3>Figure 3.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.1.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;eruptions)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;faithful)))</code></div></div><div class="nspbox"><image src="3.1.png"></image></div><div class="nspbox"><div><h3>Figure 3.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.2.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil&nbsp;eruptions)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;faithful</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:kernel&nbsp;"rect"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:bw&nbsp;0.2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;"rug"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:n&nbsp;200)))</code></div></div><div class="nspbox"><image src="3.2.png"></image></div><div class="nspbox"><div><h3>Figure 3.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.3.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;(log&nbsp;FSC.H)&nbsp;Days))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/densityplot&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ref&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[2&nbsp;4])))</code></div></div><div class="nspbox"><image src="3.3.png"></image></div><div class="nspbox"><div><h3>Figure 3.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.4.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(log2&nbsp;FSC.H)&nbsp;Days))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/histogram</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"log&nbsp;Forward&nbsp;Scatter"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"density"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:nint&nbsp;50</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[2&nbsp;4])))</code></div></div><div class="nspbox"><image src="3.4.png"></image></div><div class="nspbox"><div><h3>Figure 3.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.5.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100))))</code></div></div><div class="nspbox"><image src="3.5.png"></image></div><div class="nspbox"><div><h3>Figure 3.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.6.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil&nbsp;(|&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Standard&nbsp;Normal&nbsp;Quantiles"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.6.png"></image></div><div class="nspbox"><div><h3>Figure 3.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;chem97-mod</br>&nbsp;&nbsp;&nbsp;(base/transform&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:gcsescore.trans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(**&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.34)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.7.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore.trans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chem97-mod</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'score</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:space&nbsp;"right",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title&nbsp;"score"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Standard&nbsp;Normal&nbsp;Quantiles"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Transformed&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.7.png"></image></div><div class="nspbox"><div><h3>Figure 3.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.8.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(late/ecdfplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'gender</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(>&nbsp;gcsescore&nbsp;0)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.8.png"></image></div><div class="nspbox"><div><h3>Figure 3.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.9.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qqmath</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'gender</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:points&nbsp;false,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lines&nbsp;true}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:distribution&nbsp;'qunif</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel&nbsp;'prepanel.qqmathline</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(>&nbsp;gcsescore&nbsp;0)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Standard&nbsp;Normal&nbsp;Quantiles"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.9.png"></image></div><div class="nspbox"><div><h3>Figure 3.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.10.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;gender</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/qq&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:f.value&nbsp;(stats/ppoints</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;1)))</code></div></div><div class="nspbox"><image src="3.10.png"></image></div><div class="nspbox"><div><h3>Figure 3.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.11.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(factor&nbsp;score)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.11.png"></image></div><div class="nspbox"><div><h3>Figure 3.12</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.12.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(**&nbsp;gcsescore&nbsp;2.34)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gender</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;score)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:varwidth&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[6&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="3.12.png"></image></div><div class="nspbox"><div><h3>Figure 3.13</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.13.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;Days&nbsp;(log&nbsp;FSC.H))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"log(Forward&nbsp;Scatter)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Days&nbsp;Past&nbsp;Transplant")))</code></div></div><div class="nspbox"><image src="3.13.png"></image></div><div class="nspbox"><div><h3>Figure 3.14</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.14.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;Days&nbsp;(log&nbsp;FSC.H))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/bwplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'panel.violin</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:box.ratio&nbsp;3</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"log(Forward&nbsp;Scatter)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Days&nbsp;Past&nbsp;Transplant")))</code></div></div><div class="nspbox"><image src="3.14.png"></image></div><div class="nspbox"><div><h3>Figure 3.15</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.15.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(factor&nbsp;mag)&nbsp;depth)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot&nbsp;quakes)))</code></div></div><div class="nspbox"><image src="3.15.png"></image></div><div class="nspbox"><div><h3>Figure 3.16</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.16.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;depth&nbsp;(factor&nbsp;mag))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:jitter.data&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0.6</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Magnitude&nbsp;(Richter)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Depth&nbsp;(km)")))</code></div></div><div class="nspbox"><image src="3.16.png"></image></div><div class="nspbox"><div><h3>Figure 3.17</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"3.17.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sqrt&nbsp;(abs&nbsp;(residuals</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lm&nbsp;(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;variety</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;year</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;site))))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;site)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;lat/barley</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'year</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:jitter.data&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:points&nbsp;true,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lines&nbsp;true,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"a"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fun&nbsp;'median</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"expression(abs('Residual&nbsp;Barley&nbsp;Yield')^{1&nbsp;/&nbsp;2})"))))</code></div></div><div class="nspbox"><image src="3.17.png"></image></div><div class="nspbox"><a id="Chapter-4"> </a><div><h2>Chapter 4</h2></div></div><div class="nspbox"><div><h3>Figure 4.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">VADeaths</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rural&nbsp;Male&nbsp;Rural&nbsp;Female&nbsp;Urban&nbsp;Male&nbsp;Urban&nbsp;Female</br>50-54&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.4</br>55-59&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;24.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13.6</br>60-64&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;26.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;37.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;19.3</br>65-69&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;41.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;35.1</br>70-74&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;71.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50.0</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/class&nbsp;VADeaths)</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;"matrix"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;(r.utils/methods&nbsp;"dotplot"))</code></div><div class="nspout"><code class="prettyprint lang-clj">["dotplot.array"</br>&nbsp;"dotplot.coef.mer"</br>&nbsp;"dotplot.default"</br>&nbsp;"dotplot.formula"</br>&nbsp;"dotplot.matrix"</br>&nbsp;"dotplot.numeric"</br>&nbsp;"dotplot.ranef.mer"</br>&nbsp;"dotplot.table"]</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"4.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false))</code></div></div><div class="nspbox"><image src="4.1.png"></image></div><div class="nspbox"><div><h3>Figure 4.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.2.png")</br>&nbsp;&nbsp;&nbsp;(lat/dotplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;4]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:origin&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"h"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virginia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Rate&nbsp;(per&nbsp;1000)"))</code></div></div><div class="nspbox"><image src="4.2.png"></image></div><div class="nspbox"><div><h3>Figure 4.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.3.png")</br>&nbsp;&nbsp;&nbsp;(lat/dotplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"o"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:lines&nbsp;true,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:space&nbsp;"right"}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virginia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Rate&nbsp;(per&nbsp;1000)"))</code></div></div><div class="nspbox"><image src="4.3.png"></image></div><div class="nspbox"><div><h3>Figure 4.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.4.png")</br>&nbsp;&nbsp;&nbsp;(lat/barchart</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VADeaths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;4]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:reference&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virginia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Rate&nbsp;(per&nbsp;1000)"))</code></div></div><div class="nspbox"><image src="4.4.png"></image></div><div class="nspbox"><div><h3>Figure 4.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.5.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;(base/prop-table&nbsp;late/postdoc</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:margin</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;:xlab&nbsp;"Proportion"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:adj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1})))</code></div></div><div class="nspbox"><image src="4.5.png"></image></div><div class="nspbox"><div><h3>Figure 4.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.6.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/prop-table&nbsp;late/postdoc</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:margin</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Proportion"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.strip.text</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:abbreviate&nbsp;true,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:minlength&nbsp;10})))</code></div></div><div class="nspbox"><image src="4.6.png"></image></div><div class="nspbox"><div><h3>Figure 4.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.7.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/prop-table&nbsp;late/postdoc</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:margin</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:index.cond</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[x&nbsp;y]&nbsp;(median&nbsp;x))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Proportion"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;5]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.6</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:y&nbsp;{:relation&nbsp;"free",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:rot&nbsp;0}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:ylim&nbsp;(levels</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reorder&nbsp;y&nbsp;x))})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;'(function&nbsp;[x&nbsp;y&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.dotplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(reorder&nbsp;y&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...)))))</code></div></div><div class="nspbox"><image src="4.7.png"></image></div><div class="nspbox"><div><h3>Figure 4.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;gcsescore-tab</br>&nbsp;&nbsp;&nbsp;(stats/xtabs</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.mlmRev/Chem97))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;gcsescore-df</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[df&nbsp;(base/as-data-frame</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gcsescore-tab)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;($&nbsp;df&nbsp;'gcsescore)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-character)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-numeric)))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.8.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Freq</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;gcsescore&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;gcsescore-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"h"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;2]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Average&nbsp;GCSE&nbsp;Score")))</code></div></div><div class="nspbox"><image src="4.8.png"></image></div><div class="nspbox"><div><h3>Figure 4.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;score-tab</br>&nbsp;&nbsp;&nbsp;(stats/xtabs</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;score&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.mlmRev/Chem97))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;score-df</br>&nbsp;&nbsp;&nbsp;(base/as-data-frame&nbsp;score-tab))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"4.9.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Freq&nbsp;(|&nbsp;score&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/barchart&nbsp;score-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:origin</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0)))</code></div></div><div class="nspbox"><image src="4.9.png"></image></div><div class="nspbox"><a id="Chapter-5"> </a><div><h2>Chapter 5</h2></div></div><div class="nspbox"><div><h3>Figure 5.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.1.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;long&nbsp;(cut&nbsp;depth&nbsp;2)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot&nbsp;:data&nbsp;quakes)))</code></div></div><div class="nspbox"><image src="5.1.png"></image></div><div class="nspbox"><div><h3>Figure 5.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.2.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;long&nbsp;(cut&nbsp;depth&nbsp;3)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;"."</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:strip&nbsp;(lat/strip-custom</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:strip.names&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:var.name&nbsp;"Depth"))))</code></div></div><div class="nspbox"><image src="5.2.png"></image></div><div class="nspbox"><div><h3>Figure 5.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.3.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;long)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'(cut&nbsp;depth</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:breaks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(quantile</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ppoints&nbsp;4&nbsp;1)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key&nbsp;{:columns&nbsp;3}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.3.png"></image></div><div class="nspbox"><div><h3>Figure 5.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;depth-col</br>&nbsp;&nbsp;&nbsp;(r/bra&nbsp;(dev/gray-colors&nbsp;100)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/cut&nbsp;($&nbsp;quakes&nbsp;'depth)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;100</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:label</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;depth-ord</br>&nbsp;&nbsp;&nbsp;(base/rev&nbsp;(base/order&nbsp;($&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'depth))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.4.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;lat&nbsp;long)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;(r/bra&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth-ord</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;21</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill&nbsp;(r/bra&nbsp;depth-col&nbsp;depth-ord)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.4.png"></image></div><div class="nspbox"><div><h3>Figure 5.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;(->&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'Magnitude</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/equal-count&nbsp;($&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'mag)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'color&nbsp;depth-col)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/summary&nbsp;($&nbsp;quakes&nbsp;'Magnitude))</code></div><div class="nspout"><code class="prettyprint lang-clj"></br>Data:</br>&nbsp;&nbsp;&nbsp;[1]&nbsp;4.8&nbsp;4.2&nbsp;5.4&nbsp;4.1&nbsp;4.0&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.7&nbsp;4.3&nbsp;4.4&nbsp;4.6&nbsp;4.4&nbsp;4.4&nbsp;6.1&nbsp;4.3&nbsp;6.0&nbsp;4.5</br>&nbsp;&nbsp;[19]&nbsp;4.4&nbsp;4.4&nbsp;4.5&nbsp;4.2&nbsp;4.4&nbsp;4.7&nbsp;5.4&nbsp;4.0&nbsp;4.6&nbsp;5.2&nbsp;4.5&nbsp;4.4&nbsp;4.6&nbsp;4.7&nbsp;4.8&nbsp;4.0&nbsp;4.5&nbsp;4.3</br>&nbsp;&nbsp;[37]&nbsp;4.5&nbsp;4.6&nbsp;4.1&nbsp;4.4&nbsp;4.7&nbsp;4.6&nbsp;4.4&nbsp;4.3&nbsp;4.6&nbsp;4.9&nbsp;4.5&nbsp;4.4&nbsp;4.3&nbsp;5.1&nbsp;4.2&nbsp;4.0&nbsp;4.6&nbsp;4.3</br>&nbsp;&nbsp;[55]&nbsp;4.2&nbsp;4.4&nbsp;4.5&nbsp;4.0&nbsp;4.4&nbsp;4.3&nbsp;4.7&nbsp;4.1&nbsp;5.0&nbsp;4.6&nbsp;4.9&nbsp;4.7&nbsp;4.1&nbsp;5.0&nbsp;4.5&nbsp;5.5&nbsp;4.0&nbsp;4.5</br>&nbsp;&nbsp;[73]&nbsp;4.3&nbsp;5.2&nbsp;4.4&nbsp;4.3&nbsp;4.1&nbsp;4.5&nbsp;4.2&nbsp;5.3&nbsp;5.2&nbsp;4.5&nbsp;4.6&nbsp;4.3&nbsp;4.0&nbsp;4.3&nbsp;4.7&nbsp;4.5&nbsp;4.2&nbsp;4.3</br>&nbsp;&nbsp;[91]&nbsp;5.1&nbsp;4.7&nbsp;5.2&nbsp;4.2&nbsp;4.2&nbsp;4.0&nbsp;4.5&nbsp;5.2&nbsp;5.1&nbsp;4.7&nbsp;4.1&nbsp;4.6&nbsp;4.7&nbsp;4.7&nbsp;4.6&nbsp;4.2&nbsp;4.4&nbsp;4.6</br>&nbsp;[109]&nbsp;5.7&nbsp;5.0&nbsp;4.5&nbsp;4.2&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.2&nbsp;5.3&nbsp;4.7&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;4.3&nbsp;4.7&nbsp;4.5&nbsp;4.4&nbsp;5.1</br>&nbsp;[127]&nbsp;4.2&nbsp;5.0&nbsp;4.8&nbsp;4.3&nbsp;4.5&nbsp;4.2&nbsp;4.5&nbsp;4.6&nbsp;4.3&nbsp;4.7&nbsp;5.1&nbsp;4.6&nbsp;4.9&nbsp;4.2&nbsp;4.6&nbsp;4.0&nbsp;5.0&nbsp;4.4</br>&nbsp;[145]&nbsp;4.2&nbsp;4.2&nbsp;4.4&nbsp;4.9&nbsp;5.3&nbsp;4.0&nbsp;5.7&nbsp;6.4&nbsp;4.3&nbsp;4.2&nbsp;4.7&nbsp;4.7&nbsp;4.2&nbsp;4.3&nbsp;4.9&nbsp;4.6&nbsp;4.1&nbsp;4.8</br>&nbsp;[163]&nbsp;4.6&nbsp;4.6&nbsp;4.8&nbsp;5.0&nbsp;5.6&nbsp;5.3&nbsp;4.7&nbsp;4.5&nbsp;4.3&nbsp;4.6&nbsp;4.1&nbsp;4.1&nbsp;4.1&nbsp;5.7&nbsp;5.0&nbsp;4.5&nbsp;4.1&nbsp;4.6</br>&nbsp;[181]&nbsp;4.5&nbsp;4.3&nbsp;4.4&nbsp;4.2&nbsp;4.1&nbsp;4.9&nbsp;4.3&nbsp;4.9&nbsp;4.6&nbsp;4.6&nbsp;5.3&nbsp;4.7&nbsp;4.6&nbsp;4.1&nbsp;4.6&nbsp;4.2&nbsp;4.6&nbsp;4.5</br>&nbsp;[199]&nbsp;4.3&nbsp;5.2&nbsp;4.3&nbsp;4.0&nbsp;4.7&nbsp;4.5&nbsp;4.5&nbsp;4.3&nbsp;5.2&nbsp;4.5&nbsp;4.7&nbsp;4.2&nbsp;4.7&nbsp;4.3&nbsp;4.1&nbsp;5.4&nbsp;4.3&nbsp;4.3</br>&nbsp;[217]&nbsp;4.2&nbsp;4.6&nbsp;4.4&nbsp;4.2&nbsp;4.7&nbsp;4.6&nbsp;4.9&nbsp;4.2&nbsp;4.5&nbsp;4.9&nbsp;4.2&nbsp;4.5&nbsp;5.0&nbsp;5.0&nbsp;4.7&nbsp;4.3&nbsp;4.4&nbsp;4.9</br>&nbsp;[235]&nbsp;4.5&nbsp;4.0&nbsp;4.4&nbsp;5.0&nbsp;4.7&nbsp;4.8&nbsp;4.5&nbsp;4.1&nbsp;5.3&nbsp;4.8&nbsp;5.0&nbsp;4.6&nbsp;4.3&nbsp;4.7&nbsp;5.3&nbsp;4.2&nbsp;4.7&nbsp;4.5</br>&nbsp;[253]&nbsp;5.1&nbsp;4.9&nbsp;4.4&nbsp;4.2&nbsp;4.6&nbsp;4.7&nbsp;4.2&nbsp;4.9&nbsp;5.1&nbsp;4.7&nbsp;4.4&nbsp;4.4&nbsp;4.2&nbsp;4.9&nbsp;4.6&nbsp;4.4&nbsp;4.6&nbsp;4.5</br>&nbsp;[271]&nbsp;4.4&nbsp;4.9&nbsp;4.1&nbsp;4.2&nbsp;5.7&nbsp;4.6&nbsp;5.0&nbsp;4.3&nbsp;4.5&nbsp;5.2&nbsp;4.4&nbsp;4.2&nbsp;4.6&nbsp;4.0&nbsp;4.4&nbsp;4.7&nbsp;4.2&nbsp;4.7</br>&nbsp;[289]&nbsp;4.5&nbsp;5.0&nbsp;5.0&nbsp;4.8&nbsp;4.6&nbsp;4.6&nbsp;5.0&nbsp;5.0&nbsp;5.6&nbsp;4.0&nbsp;4.0&nbsp;4.6&nbsp;4.4&nbsp;4.8&nbsp;4.7&nbsp;4.6&nbsp;4.3&nbsp;4.7</br>&nbsp;[307]&nbsp;4.1&nbsp;4.9&nbsp;4.6&nbsp;4.8&nbsp;4.9&nbsp;5.1&nbsp;5.4&nbsp;4.5&nbsp;4.9&nbsp;4.4&nbsp;4.1&nbsp;5.3&nbsp;4.5&nbsp;4.9&nbsp;4.8&nbsp;5.2&nbsp;4.4&nbsp;4.4</br>&nbsp;[325]&nbsp;4.9&nbsp;4.4&nbsp;4.2&nbsp;4.6&nbsp;4.6&nbsp;5.3&nbsp;5.3&nbsp;4.5&nbsp;4.4&nbsp;5.0&nbsp;5.1&nbsp;4.5&nbsp;4.5&nbsp;5.4&nbsp;4.5&nbsp;4.7&nbsp;4.2&nbsp;4.8</br>&nbsp;[343]&nbsp;4.5&nbsp;4.3&nbsp;4.3&nbsp;4.3&nbsp;4.6&nbsp;4.5&nbsp;5.0&nbsp;4.6&nbsp;4.6&nbsp;4.9&nbsp;4.1&nbsp;5.5&nbsp;4.7&nbsp;5.0&nbsp;5.1&nbsp;5.5&nbsp;4.6&nbsp;4.7</br>&nbsp;[361]&nbsp;4.2&nbsp;4.0&nbsp;5.4&nbsp;4.3&nbsp;4.4&nbsp;4.6&nbsp;5.1&nbsp;4.5&nbsp;4.2&nbsp;4.1&nbsp;5.1&nbsp;5.4&nbsp;5.1&nbsp;5.1&nbsp;4.4&nbsp;5.7&nbsp;4.4&nbsp;5.1</br>&nbsp;[379]&nbsp;4.6&nbsp;5.5&nbsp;5.1&nbsp;4.4&nbsp;5.0&nbsp;5.0&nbsp;5.1&nbsp;5.1&nbsp;4.2&nbsp;4.5&nbsp;4.0&nbsp;4.9&nbsp;4.3&nbsp;4.8&nbsp;4.4&nbsp;4.2&nbsp;4.9&nbsp;4.2</br>&nbsp;[397]&nbsp;5.3&nbsp;5.0&nbsp;5.7&nbsp;5.3&nbsp;4.7&nbsp;4.6&nbsp;4.3&nbsp;5.4&nbsp;4.4&nbsp;4.3&nbsp;4.3&nbsp;4.7&nbsp;4.4&nbsp;4.2&nbsp;4.5&nbsp;4.8&nbsp;4.8&nbsp;4.3</br>&nbsp;[415]&nbsp;4.4&nbsp;5.1&nbsp;4.4&nbsp;4.4&nbsp;4.3&nbsp;4.8&nbsp;4.3&nbsp;4.5&nbsp;4.1&nbsp;5.1&nbsp;4.7&nbsp;4.6&nbsp;4.7&nbsp;4.6&nbsp;4.4&nbsp;4.2&nbsp;4.1&nbsp;4.7</br>&nbsp;[433]&nbsp;4.0&nbsp;4.8&nbsp;4.4&nbsp;4.3&nbsp;4.4&nbsp;4.5&nbsp;4.5&nbsp;4.7&nbsp;4.3&nbsp;4.7&nbsp;4.8&nbsp;4.6&nbsp;5.1&nbsp;4.7&nbsp;4.3&nbsp;5.1&nbsp;5.5&nbsp;4.5</br>&nbsp;[451]&nbsp;4.3&nbsp;4.3&nbsp;4.7&nbsp;4.3&nbsp;4.3&nbsp;4.6&nbsp;4.5&nbsp;4.5&nbsp;5.4&nbsp;4.6&nbsp;4.4&nbsp;5.0&nbsp;5.2&nbsp;4.4&nbsp;5.1&nbsp;4.4&nbsp;4.4&nbsp;4.8</br>&nbsp;[469]&nbsp;4.4&nbsp;4.7&nbsp;4.7&nbsp;4.4&nbsp;4.3&nbsp;5.0&nbsp;4.5&nbsp;4.6&nbsp;5.4&nbsp;4.6&nbsp;4.5&nbsp;4.4&nbsp;4.5&nbsp;4.1&nbsp;4.0&nbsp;4.9&nbsp;4.1&nbsp;5.2</br>&nbsp;[487]&nbsp;4.4&nbsp;4.1&nbsp;4.9&nbsp;4.6&nbsp;4.5&nbsp;4.8&nbsp;4.2&nbsp;4.2&nbsp;4.1&nbsp;5.5&nbsp;4.4&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;4.9&nbsp;4.6&nbsp;4.5&nbsp;4.4</br>&nbsp;[505]&nbsp;4.6&nbsp;4.2&nbsp;4.7&nbsp;4.4&nbsp;4.5&nbsp;4.9&nbsp;4.7&nbsp;5.5&nbsp;4.7&nbsp;4.6&nbsp;4.1&nbsp;4.7&nbsp;4.6&nbsp;4.3&nbsp;4.4&nbsp;4.7&nbsp;4.3&nbsp;4.1</br>&nbsp;[523]&nbsp;4.7&nbsp;4.5&nbsp;5.5&nbsp;4.5&nbsp;4.6&nbsp;5.1&nbsp;4.4&nbsp;4.7&nbsp;5.5&nbsp;4.6&nbsp;4.0&nbsp;4.6&nbsp;4.8&nbsp;4.7&nbsp;4.7&nbsp;4.2&nbsp;5.4&nbsp;4.6</br>&nbsp;[541]&nbsp;5.5&nbsp;4.2&nbsp;4.5&nbsp;4.5&nbsp;4.8&nbsp;4.6&nbsp;5.4&nbsp;4.6&nbsp;5.0&nbsp;4.3&nbsp;4.3&nbsp;4.8&nbsp;4.7&nbsp;4.7&nbsp;4.8&nbsp;4.2&nbsp;4.2&nbsp;5.9</br>&nbsp;[559]&nbsp;4.6&nbsp;4.5&nbsp;4.9&nbsp;4.7&nbsp;4.9&nbsp;5.3&nbsp;4.2&nbsp;4.2&nbsp;4.5&nbsp;5.2&nbsp;4.5&nbsp;5.6&nbsp;5.2&nbsp;4.8&nbsp;4.5&nbsp;5.0&nbsp;4.4&nbsp;4.5</br>&nbsp;[577]&nbsp;4.6&nbsp;4.5&nbsp;5.2&nbsp;5.1&nbsp;4.8&nbsp;4.3&nbsp;5.1&nbsp;4.7&nbsp;4.6&nbsp;4.8&nbsp;4.6&nbsp;4.4&nbsp;4.6&nbsp;5.1&nbsp;4.3&nbsp;4.4&nbsp;4.7&nbsp;4.8</br>&nbsp;[595]&nbsp;4.1&nbsp;4.6&nbsp;4.9&nbsp;4.0&nbsp;4.7&nbsp;4.7&nbsp;5.2&nbsp;4.6&nbsp;4.6&nbsp;4.9&nbsp;5.7&nbsp;4.7&nbsp;4.4&nbsp;4.9&nbsp;4.8&nbsp;4.6&nbsp;4.4&nbsp;4.8</br>&nbsp;[613]&nbsp;4.7&nbsp;4.2&nbsp;5.1&nbsp;4.8&nbsp;4.9&nbsp;5.1&nbsp;4.3&nbsp;4.4&nbsp;4.7&nbsp;4.7&nbsp;5.3&nbsp;5.1&nbsp;4.9&nbsp;4.5&nbsp;4.7&nbsp;4.2&nbsp;5.1&nbsp;4.8</br>&nbsp;[631]&nbsp;4.2&nbsp;4.8&nbsp;4.4&nbsp;4.5&nbsp;4.3&nbsp;5.6&nbsp;4.0&nbsp;5.0&nbsp;4.2&nbsp;4.6&nbsp;4.6&nbsp;4.5&nbsp;5.0&nbsp;4.7&nbsp;4.6&nbsp;4.8&nbsp;4.6&nbsp;4.4</br>&nbsp;[649]&nbsp;5.6&nbsp;4.2&nbsp;5.4&nbsp;4.8&nbsp;5.6&nbsp;4.4&nbsp;4.7&nbsp;4.6&nbsp;5.1&nbsp;4.6&nbsp;4.5&nbsp;4.2&nbsp;4.8&nbsp;4.9&nbsp;5.5&nbsp;5.0&nbsp;4.2&nbsp;5.2</br>&nbsp;[667]&nbsp;4.8&nbsp;4.4&nbsp;4.8&nbsp;4.4&nbsp;4.1&nbsp;4.9&nbsp;4.6&nbsp;4.5&nbsp;5.3&nbsp;4.8&nbsp;4.6&nbsp;4.8&nbsp;4.7&nbsp;4.9&nbsp;5.3&nbsp;4.4&nbsp;4.6&nbsp;4.3</br>&nbsp;[685]&nbsp;4.4&nbsp;4.2&nbsp;4.1&nbsp;4.2&nbsp;5.0&nbsp;4.1&nbsp;4.3&nbsp;5.2&nbsp;4.2&nbsp;4.5&nbsp;4.4&nbsp;4.4&nbsp;5.0&nbsp;4.0&nbsp;4.8&nbsp;5.0&nbsp;4.2&nbsp;5.2</br>&nbsp;[703]&nbsp;5.2&nbsp;4.5&nbsp;4.3&nbsp;4.5&nbsp;4.6&nbsp;5.1&nbsp;4.4&nbsp;4.3&nbsp;4.7&nbsp;5.6&nbsp;4.9&nbsp;5.1&nbsp;4.6&nbsp;4.4&nbsp;4.8&nbsp;4.2&nbsp;4.7&nbsp;4.1</br>&nbsp;[721]&nbsp;4.7&nbsp;4.0&nbsp;4.9&nbsp;5.0&nbsp;4.5&nbsp;4.4&nbsp;4.0&nbsp;4.5&nbsp;4.7&nbsp;4.4&nbsp;4.7&nbsp;4.7&nbsp;4.0&nbsp;4.2&nbsp;4.5&nbsp;4.7&nbsp;4.5&nbsp;4.1</br>&nbsp;[739]&nbsp;4.6&nbsp;4.3&nbsp;4.6&nbsp;5.2&nbsp;4.6&nbsp;4.7&nbsp;5.0&nbsp;5.2&nbsp;4.4&nbsp;4.6&nbsp;4.5&nbsp;4.0&nbsp;4.2&nbsp;5.3&nbsp;5.9&nbsp;4.9&nbsp;4.5&nbsp;4.4</br>&nbsp;[757]&nbsp;5.4&nbsp;5.3&nbsp;5.1&nbsp;4.1&nbsp;4.3&nbsp;4.5&nbsp;4.1&nbsp;5.1&nbsp;5.3&nbsp;4.5&nbsp;4.1&nbsp;4.4&nbsp;4.7&nbsp;4.0&nbsp;5.1&nbsp;4.0&nbsp;4.3&nbsp;4.3</br>&nbsp;[775]&nbsp;4.0&nbsp;4.1&nbsp;4.4&nbsp;4.3&nbsp;4.2&nbsp;4.0&nbsp;4.5&nbsp;4.7&nbsp;5.0&nbsp;4.3&nbsp;5.1&nbsp;4.7&nbsp;5.3&nbsp;5.0&nbsp;4.5&nbsp;5.0&nbsp;4.1&nbsp;4.9</br>&nbsp;[793]&nbsp;4.1&nbsp;4.0&nbsp;4.4&nbsp;4.5&nbsp;4.4&nbsp;4.5&nbsp;4.3&nbsp;4.3&nbsp;5.0&nbsp;4.5&nbsp;4.5&nbsp;4.4&nbsp;4.5&nbsp;4.1&nbsp;4.9&nbsp;4.7&nbsp;4.3&nbsp;4.6</br>&nbsp;[811]&nbsp;4.6&nbsp;5.2&nbsp;4.5&nbsp;4.3&nbsp;4.6&nbsp;4.0&nbsp;4.5&nbsp;4.8&nbsp;4.6&nbsp;4.1&nbsp;4.9&nbsp;4.7&nbsp;4.1&nbsp;4.3&nbsp;4.4&nbsp;4.0&nbsp;4.8&nbsp;4.4</br>&nbsp;[829]&nbsp;4.4&nbsp;4.6&nbsp;4.2&nbsp;4.1&nbsp;4.2&nbsp;4.0&nbsp;4.1&nbsp;4.1&nbsp;4.7&nbsp;4.8&nbsp;5.1&nbsp;5.0&nbsp;4.8&nbsp;4.4&nbsp;5.0&nbsp;5.2&nbsp;4.2&nbsp;4.1</br>&nbsp;[847]&nbsp;4.8&nbsp;4.5&nbsp;5.0&nbsp;5.1&nbsp;4.1&nbsp;4.7&nbsp;5.2&nbsp;4.8&nbsp;4.5&nbsp;4.0&nbsp;4.7&nbsp;4.1&nbsp;4.3&nbsp;4.3&nbsp;4.0&nbsp;4.7&nbsp;4.1&nbsp;4.2</br>&nbsp;[865]&nbsp;4.8&nbsp;4.8&nbsp;4.2&nbsp;4.2&nbsp;5.7&nbsp;6.0&nbsp;4.2&nbsp;4.5&nbsp;4.9&nbsp;4.4&nbsp;4.0&nbsp;4.3&nbsp;4.2&nbsp;4.5&nbsp;4.8&nbsp;4.4&nbsp;4.2&nbsp;4.2</br>&nbsp;[883]&nbsp;5.0&nbsp;4.2&nbsp;5.2&nbsp;4.5&nbsp;4.6&nbsp;5.0&nbsp;5.0&nbsp;5.4&nbsp;4.8&nbsp;4.2&nbsp;5.5&nbsp;4.3&nbsp;4.1&nbsp;4.4&nbsp;4.9&nbsp;4.5&nbsp;4.9&nbsp;4.0</br>&nbsp;[901]&nbsp;4.5&nbsp;5.0&nbsp;4.9&nbsp;4.5&nbsp;4.2&nbsp;4.2&nbsp;4.2&nbsp;5.2&nbsp;4.3&nbsp;5.1&nbsp;4.6&nbsp;4.6&nbsp;4.4&nbsp;4.4&nbsp;4.9&nbsp;5.1&nbsp;4.2&nbsp;4.7</br>&nbsp;[919]&nbsp;4.0&nbsp;5.6&nbsp;5.3&nbsp;5.0&nbsp;4.3&nbsp;4.1&nbsp;5.1&nbsp;4.5&nbsp;4.9&nbsp;5.4&nbsp;4.7&nbsp;4.8&nbsp;4.5&nbsp;4.2&nbsp;4.6&nbsp;4.6&nbsp;5.6&nbsp;5.4</br>&nbsp;[937]&nbsp;4.0&nbsp;5.2&nbsp;4.2&nbsp;4.7&nbsp;4.3&nbsp;4.8&nbsp;4.6&nbsp;5.4&nbsp;4.8&nbsp;4.6&nbsp;4.2&nbsp;5.5&nbsp;4.7&nbsp;4.7&nbsp;4.5&nbsp;5.5&nbsp;4.5&nbsp;4.1</br>&nbsp;[955]&nbsp;4.0&nbsp;4.3&nbsp;4.7&nbsp;4.9&nbsp;4.5&nbsp;4.7&nbsp;4.5&nbsp;4.8&nbsp;4.3&nbsp;4.1&nbsp;5.4&nbsp;4.1&nbsp;4.8&nbsp;4.2&nbsp;4.8&nbsp;5.4&nbsp;4.4&nbsp;5.2</br>&nbsp;[973]&nbsp;4.7&nbsp;4.9&nbsp;4.9&nbsp;4.2&nbsp;4.4&nbsp;4.4&nbsp;4.3&nbsp;4.9&nbsp;5.0&nbsp;4.7&nbsp;4.9&nbsp;4.3&nbsp;4.5&nbsp;4.2&nbsp;5.2&nbsp;4.8&nbsp;4.0&nbsp;4.7</br>&nbsp;[991]&nbsp;4.3&nbsp;4.3&nbsp;4.9&nbsp;4.0&nbsp;4.2&nbsp;4.4&nbsp;4.7&nbsp;4.5&nbsp;4.5&nbsp;6.0</br></br>Intervals:</br>&nbsp;&nbsp;&nbsp;min&nbsp;&nbsp;max&nbsp;count</br>1&nbsp;3.95&nbsp;4.55&nbsp;&nbsp;&nbsp;484</br>2&nbsp;4.25&nbsp;4.75&nbsp;&nbsp;&nbsp;492</br>3&nbsp;4.45&nbsp;4.95&nbsp;&nbsp;&nbsp;425</br>4&nbsp;4.65&nbsp;6.45&nbsp;&nbsp;&nbsp;415</br></br>Overlap&nbsp;between&nbsp;adjacent&nbsp;intervals:</br>[1]&nbsp;293&nbsp;306&nbsp;217</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;(r/bra&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;depth-ord</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.5.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;lat&nbsp;(|&nbsp;long&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y&nbsp;fill.color&nbsp;...</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscripts]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;fill.color</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subscripts))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;-1&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill.color&nbsp;($&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'color)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.5.png"></image></div><div class="nspbox"><div><h3>Figure 5.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;depth-breaks</br>&nbsp;&nbsp;&nbsp;(lat/do-breaks&nbsp;(base/range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'depth))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;(->&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'color</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/level-colors</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;quakes-ordered&nbsp;'depth)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;depth-breaks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.regions</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dev/gray-colors))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.6.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;lat&nbsp;(|&nbsp;long&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes-ordered</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'color</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y&nbsp;groups&nbsp;...&nbsp;subscripts]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;groups&nbsp;subscripts))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;-1&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;21</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:legend</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:right</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:fun&nbsp;lat/draw-colorkey,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:args</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:key&nbsp;{:col</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dev/grey-colors,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;depth-breaks},</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:draw&nbsp;false}}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude")))</code></div></div><div class="nspbox"><image src="5.6.png"></image></div><div class="nspbox"><div><h3>Figure 5.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;types-plain</br>&nbsp;&nbsp;&nbsp;["p"&nbsp;"l"&nbsp;"o"&nbsp;"r"&nbsp;"g"&nbsp;"s"&nbsp;"S"&nbsp;"h"&nbsp;"a"</br>&nbsp;&nbsp;&nbsp;&nbsp;"smooth"])</br>&nbsp;(def&nbsp;types-horiz</br>&nbsp;&nbsp;&nbsp;["s"&nbsp;"S"&nbsp;"h"&nbsp;"a"&nbsp;"smooth"])</br>&nbsp;(def&nbsp;horiz</br>&nbsp;&nbsp;&nbsp;(base/rep&nbsp;[false&nbsp;true]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(count&nbsp;types-plain)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(count&nbsp;types-horiz)]))</br>&nbsp;(def&nbsp;types</br>&nbsp;&nbsp;&nbsp;(concat&nbsp;types-plain&nbsp;types-horiz))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/set-seed&nbsp;2007041)</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;x</br>&nbsp;&nbsp;&nbsp;(<-&nbsp;'x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/sample</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/seq&nbsp;-10&nbsp;10&nbsp;:length&nbsp;15)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true)))</br>&nbsp;(def&nbsp;n</br>&nbsp;&nbsp;&nbsp;(stats/rnorm&nbsp;(base/length&nbsp;x)&nbsp;:sd&nbsp;5))</br>&nbsp;(def&nbsp;y</br>&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(map&nbsp;(fn&nbsp;[x&nbsp;n]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;0.25&nbsp;(inc&nbsp;x)&nbsp;(inc&nbsp;x))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj&nbsp;n))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.7.png")</br>&nbsp;&nbsp;&nbsp;(r/bra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;x&nbsp;(gl&nbsp;1&nbsp;~(count&nbsp;types))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"type"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;[:!list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["horizontal=TRUE"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"horizontal=FALSE"]&nbsp;:y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1/6&nbsp;4/6]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:as.table&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[5&nbsp;3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:between&nbsp;{:y&nbsp;[0&nbsp;1]}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:strip</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.fill</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(~$</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(trellis.par.get</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"strip.background")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;type</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;~types</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.number)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(grid.text</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lab&nbsp;(sprintf&nbsp;"%s"&nbsp;type)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;0.5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;0.5)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(grid.rect))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:alternating&nbsp;[0&nbsp;2],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tck&nbsp;[0&nbsp;0.7],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:draw&nbsp;false}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.settings</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:layout.widths</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:strip.left&nbsp;[1&nbsp;0&nbsp;0&nbsp;0&nbsp;0]}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;type</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;~types</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.number)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;horizontal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;~horiz</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.number)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;type</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:horizontal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;horizontal))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/rep&nbsp;1&nbsp;(base/length&nbsp;types))))</code></div></div><div class="nspbox"><image src="5.7.png"></image></div><div class="nspbox"><div><h3>Figure 5.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.8.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;accel&nbsp;distance)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.grid&nbsp;:h&nbsp;-1&nbsp;:v&nbsp;-1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;...)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.loess&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="5.8.png"></image></div><div class="nspbox"><div><h3>Figure 5.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.9.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;accel&nbsp;distance)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["g"&nbsp;"p"&nbsp;"smooth"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="5.9.png"></image></div><div class="nspbox"><div><h3>Figure 5.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;earthquake</br>&nbsp;&nbsp;&nbsp;($<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'Magnitude</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/equal-count</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;r.MEMSS/Earthquake&nbsp;'Richter)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:overlap</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.1)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;coef</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(log2&nbsp;accel)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log2&nbsp;distance))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/lm&nbsp;:data&nbsp;earthquake)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/coef)))</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;(Intercept)&nbsp;log2(distance)&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.2663356&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-0.8246557&nbsp;</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.10.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;accel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;distance&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.line&nbsp;"grey"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lwd&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.abline&nbsp;:reg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~coef)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.locfit&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="5.10.png"></image></div><div class="nspbox"><div><h3>Figure 5.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.11.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;min.temp&nbsp;max.temp&nbsp;precip)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;day&nbsp;month))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;late/SeatacWeather</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Temperature&nbsp;and&nbsp;Rainfall"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black")))</code></div></div><div class="nspbox"><image src="5.11.png"></image></div><div class="nspbox"><div><h3>Figure 5.12</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;maxp</br>&nbsp;&nbsp;&nbsp;(base/max&nbsp;($&nbsp;late/SeatacWeather</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'precip)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:na.rm</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true))</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;1.77</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.12.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;min.temp</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max.temp</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(I&nbsp;(*&nbsp;80&nbsp;(/&nbsp;precip&nbsp;~maxp))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;day&nbsp;month))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;late/SeatacWeather</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Temperature&nbsp;and&nbsp;Rainfall"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["l"&nbsp;"l"&nbsp;"h"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:distribute.type&nbsp;true)))</code></div></div><div class="nspbox"><image src="5.12.png"></image></div><div class="nspbox"><div><h3>Figure 5.13</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.13.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/trellis-last-object)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Temperature&nbsp;(Fahrenheit)&nbsp;\n&nbsp;and&nbsp;Rainfall&nbsp;(inches)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;...)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(if&nbsp;(==&nbsp;(panel.number)&nbsp;2)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(do</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;at&nbsp;(pretty&nbsp;[0&nbsp;~maxp]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.axis</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"right"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:half&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;(/&nbsp;(*&nbsp;at&nbsp;80)&nbsp;~maxp)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:labels&nbsp;at))))))</code></div></div><div class="nspbox"><image src="5.13.png"></image></div><div class="nspbox"><div><h3>Figure 5.14</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.14.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(asinh&nbsp;SSC.H)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(asinh&nbsp;FL2.H)&nbsp;Days))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel&nbsp;r.hexbin/panel-hexbinplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect.ratio&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:trans&nbsp;base/sqrt)))</code></div></div><div class="nspbox"><image src="5.14.png"></image></div><div class="nspbox"><div><h3>Figure 5.15</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"5.15.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/splom&nbsp;USArrests))</code></div></div><div class="nspbox"><image src="5.15.png"></image></div><div class="nspbox"><div><h3>Figure 5.16</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.16.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(bra&nbsp;USArrests</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[3&nbsp;1&nbsp;2&nbsp;4])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state.region))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/splom&nbsp;:pscales&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["g"&nbsp;"p"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"smooth"])))</code></div></div><div class="nspbox"><image src="5.16.png"></image></div><div class="nspbox"><div><h3>Figure 5.17</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.17.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(data.frame&nbsp;mpg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disp</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hp</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drat</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wt</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qsec))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/splom</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;mtcars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'cyl</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pscales&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:varnames</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["Miles\nper\ngallon"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Displacement\n(cu.&nbsp;in.)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Gross\nhorsepower"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Rear\naxle\nratio"&nbsp;"Weight"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"1/4&nbsp;mile\ntime"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:auto.key</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:columns&nbsp;3,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:title</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Number&nbsp;of&nbsp;Cylinders"})))</code></div></div><div class="nspbox"><image src="5.17.png"></image></div><div class="nspbox"><div><h3>Figure 5.18</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.18.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(bra&nbsp;mtcars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1&nbsp;3&nbsp;4&nbsp;5&nbsp;6&nbsp;7])</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(factor&nbsp;cyl)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/parallel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mtcars</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:groups&nbsp;'carb</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;(lat/simpleKey</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;($&nbsp;mtcars&nbsp;'carb)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/factor)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/levels))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:points&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lines&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:space&nbsp;"top"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;3)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[3&nbsp;1])))</code></div></div><div class="nspbox"><image src="5.18.png"></image></div><div class="nspbox"><div><h3>Figure 5.19</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"5.19.jpg")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(asinh&nbsp;(bra&nbsp;gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[3&nbsp;2&nbsp;4&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5])))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/parallel&nbsp;:data&nbsp;late/gvhd10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(==&nbsp;Days&nbsp;13)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0.01</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;1)))</code></div></div><div class="nspbox"><image src="5.19.jpg"></image></div><div class="nspbox"><a id="Chapter-6"> </a><div><h2>Chapter 6</h2></div></div><div class="nspbox"><div><h3>Figure 6.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;($<-&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'Magnitude</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/equal-count&nbsp;($&nbsp;quakes&nbsp;'mag)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.1.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;depth</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;lat&nbsp;long)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlim&nbsp;(base/rev&nbsp;(base/range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'depth)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;105,&nbsp;:x&nbsp;-70}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.aspect&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;"Depth")))</code></div></div><div class="nspbox"><image src="6.1.png"></image></div><div class="nspbox"><div><h3>Figure 6.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.2.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;depth</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;lat&nbsp;long)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Magnitude))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlim&nbsp;(base/rev&nbsp;(base/range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'depth)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;80,&nbsp;:x&nbsp;-70}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zoom&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:z&nbsp;{:arrows&nbsp;false,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:distance&nbsp;2}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.aspect&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Longitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Latitude"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;[:!list&nbsp;"Depth\n(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:rot&nbsp;90])))</code></div></div><div class="nspbox"><image src="6.2.png"></image></div><div class="nspbox"><div><h3>Figure 6.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;p</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;depth&nbsp;(+&nbsp;long&nbsp;lat))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlim&nbsp;[690&nbsp;30]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;"."</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;1.5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zoom&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.settings</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:axis.line</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:col&nbsp;"transparent"}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scale&nbsp;{:draw&nbsp;false})))</br>&nbsp;(def&nbsp;npanel&nbsp;4)</br>&nbsp;(def&nbsp;rotz</br>&nbsp;&nbsp;&nbsp;(base/seq&nbsp;-30&nbsp;30&nbsp;:length&nbsp;npanel))</br>&nbsp;(def&nbsp;roty&nbsp;[3&nbsp;0])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.3.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra&nbsp;p&nbsp;(base/rep&nbsp;1&nbsp;(*&nbsp;2&nbsp;npanel)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[2&nbsp;npanel]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...&nbsp;screen]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;crow&nbsp;(current.row))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;ccol&nbsp;(current.column))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:z&nbsp;(bra&nbsp;~rotz&nbsp;crow),</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;-60,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;(bra&nbsp;~roty&nbsp;ccol)}))))</code></div></div><div class="nspbox"><image src="6.3.png"></image></div><div class="nspbox"><div><h3>Figure 6.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;state-info</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[state-info</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/data-frame</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;state-name</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:long&nbsp;($&nbsp;state-center&nbsp;'x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lat&nbsp;($&nbsp;state-center&nbsp;'y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:area&nbsp;(r/bra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state-x77</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Area")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:population</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(*&nbsp;1000</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~(r/bra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state-x77</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Population")))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;state-info</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'density</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/with&nbsp;state-info</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(/&nbsp;population</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;area)))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.4.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;density&nbsp;(+&nbsp;long&nbsp;lat))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state-info</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(!&nbsp;(%in%&nbsp;name</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["Alaska"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Hawaii"]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"h"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lwd&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlim&nbsp;[0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/max&nbsp;($&nbsp;state-info</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'density))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scale&nbsp;{:arrows&nbsp;false})))</code></div></div><div class="nspbox"><image src="6.4.png"></image></div><div class="nspbox"><div><h3>Figure 6.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;state-map</br>&nbsp;&nbsp;&nbsp;(r.maps/map&nbsp;"state"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:fill&nbsp;false))</br>&nbsp;(def&nbsp;state-map-range-x</br>&nbsp;&nbsp;&nbsp;(r/bra&nbsp;($&nbsp;state-map&nbsp;'range)&nbsp;[1&nbsp;2]))</br>&nbsp;(def&nbsp;state-map-range-y</br>&nbsp;&nbsp;&nbsp;(r/bra&nbsp;($&nbsp;state-map&nbsp;'range)&nbsp;[3&nbsp;4]))</br>&nbsp;(def&nbsp;panel-3dmap</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...&nbsp;rot.mat&nbsp;distance&nbsp;xlim&nbsp;ylim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zlim&nbsp;xlim.scaled&nbsp;ylim.scaled</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zlim.scaled]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;scaled.val</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;original&nbsp;scaled]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;(bra&nbsp;scaled&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/&nbsp;(*&nbsp;(-&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;original</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(diff&nbsp;scaled))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(diff&nbsp;original)))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ltransform3dto3d</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rbind&nbsp;(scaled.val</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;~state-map&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xlim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xlim.scaled)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(scaled.val</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;~state-map&nbsp;y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ylim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ylim.scaled)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;zlim.scaled&nbsp;1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rot.mat</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distance))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.lines</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;m&nbsp;1&nbsp;~(r/empty-symbol))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;m&nbsp;2&nbsp;~(r/empty-symbol))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"grey76"))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.5.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;density&nbsp;(+&nbsp;long&nbsp;lat))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state-info</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:subset&nbsp;'(!&nbsp;(%in%&nbsp;name</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["Alaska"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Hawaii"]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.3d.cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(~panel-3dmap&nbsp;...)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.3dscatter</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"h"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:draw&nbsp;false}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zoom&nbsp;1.1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlim&nbsp;state-map-range-x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylim&nbsp;state-map-range-y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;nil</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[(/&nbsp;(diff&nbsp;~state-map-range-y)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(diff&nbsp;~state-map-range-x))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.3]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.aspect&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lwd&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;30,&nbsp;:x&nbsp;-60}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.settings</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:axis.line&nbsp;{:col</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"transparent"},</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:box.3d&nbsp;{:col&nbsp;"transparent",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0}})))</code></div></div><div class="nspbox"><image src="6.5.png"></image></div><div class="nspbox"><div><h3>Figure 6.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;env</br>&nbsp;&nbsp;&nbsp;(->&nbsp;lat/environmental</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'ozone</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/r**&nbsp;($&nbsp;lat/environmental</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'ozone)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1/3))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'Radiation</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/equal-count</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;lat/environmental</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'radiation)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4))))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr-examples.lattice/env</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.6.png")</br>&nbsp;&nbsp;&nbsp;(lat/cloud&nbsp;'(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ozone</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(+&nbsp;wind&nbsp;temperature)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env))</code></div></div><div class="nspbox"><image src="6.6.png"></image></div><div class="nspbox"><div><h3>Figure 6.7</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"6.7.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/splom</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra&nbsp;env&nbsp;[1&nbsp;2&nbsp;3&nbsp;4])))</code></div></div><div class="nspbox"><image src="6.7.png"></image></div><div class="nspbox"><div><h3>Figure 6.8</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;fm1-env</br>&nbsp;&nbsp;&nbsp;(stats/lm&nbsp;'(formula&nbsp;ozone</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;radiation</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wind))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env))</code></div><div class="nspout"><code class="prettyprint lang-clj"></br>Call:</br>.MEM$x0bb3bc6740c841ed(formula&nbsp;=&nbsp;(ozone&nbsp;~&nbsp;radiation&nbsp;*&nbsp;temperature&nbsp;*&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;wind),&nbsp;data&nbsp;=&nbsp;.MEM$x5fe72f69bda64b7a)</br></br>Coefficients:</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Intercept)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-3.397e+00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.539e-03&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wind&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.668e-02&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.208e-01&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation:temperature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation:wind&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-4.032e-05&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-9.625e-04&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature:wind&nbsp;&nbsp;radiation:temperature:wind&nbsp;&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-5.029e-03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.167e-05&nbsp;&nbsp;</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;fm2-env</br>&nbsp;&nbsp;&nbsp;(stats/loess&nbsp;'(formula&nbsp;ozone</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;wind</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:span&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:degree&nbsp;1))</code></div><div class="nspout"><code class="prettyprint lang-clj">Call:</br>.MEM$x9e9fd6750e9149d0(formula&nbsp;=&nbsp;(ozone&nbsp;~&nbsp;wind&nbsp;*&nbsp;temperature&nbsp;*&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;radiation),&nbsp;data&nbsp;=&nbsp;.MEM$x5fe72f69bda64b7a,&nbsp;span&nbsp;=&nbsp;0.75,&nbsp;degree&nbsp;=&nbsp;1)</br></br>Number&nbsp;of&nbsp;Observations:&nbsp;111&nbsp;</br>Equivalent&nbsp;Number&nbsp;of&nbsp;Parameters:&nbsp;7.26&nbsp;</br>Residual&nbsp;Standard&nbsp;Error:&nbsp;0.4579&nbsp;</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;fm3-env</br>&nbsp;&nbsp;&nbsp;(stats/loess&nbsp;'(formula&nbsp;ozone</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;wind</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:parametric&nbsp;["radiation"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"wind"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:span&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:degree&nbsp;2))</code></div><div class="nspout"><code class="prettyprint lang-clj">Call:</br>.MEM$x9e9fd6750e9149d0(formula&nbsp;=&nbsp;(ozone&nbsp;~&nbsp;wind&nbsp;*&nbsp;temperature&nbsp;*&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;radiation),&nbsp;data&nbsp;=&nbsp;.MEM$x5fe72f69bda64b7a,&nbsp;span&nbsp;=&nbsp;0.75,&nbsp;degree&nbsp;=&nbsp;2,&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;parametric&nbsp;=&nbsp;c("radiation",&nbsp;"wind"))</br></br>Number&nbsp;of&nbsp;Observations:&nbsp;111&nbsp;</br>Equivalent&nbsp;Number&nbsp;of&nbsp;Parameters:&nbsp;14.52&nbsp;</br>Residual&nbsp;Standard&nbsp;Error:&nbsp;0.4278&nbsp;</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;fm4-env</br>&nbsp;&nbsp;&nbsp;(r.locfit/locfit</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ozone</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;wind&nbsp;temperature&nbsp;radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;env))</code></div><div class="nspout"><code class="prettyprint lang-clj">Call:</br>.MEM$x25e6b22390ba4e77(formula&nbsp;=&nbsp;(ozone&nbsp;~&nbsp;wind&nbsp;*&nbsp;temperature&nbsp;*&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;radiation),&nbsp;data&nbsp;=&nbsp;.MEM$x5fe72f69bda64b7a)</br></br>Number&nbsp;of&nbsp;observations:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;111&nbsp;</br>Family:&nbsp;&nbsp;Gaussian&nbsp;</br>Fitted&nbsp;Degrees&nbsp;of&nbsp;freedom:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15.421&nbsp;</br>Residual&nbsp;scale:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.452&nbsp;</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;w-mesh</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(with&nbsp;~env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(do.breaks&nbsp;(range&nbsp;wind)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50))))</br>&nbsp;(def&nbsp;t-mesh</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(with&nbsp;~env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(do.breaks&nbsp;(range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temperature)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50))))</br>&nbsp;(def&nbsp;r-mesh</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(with&nbsp;~env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(do.breaks&nbsp;(range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3))))</br>&nbsp;(def&nbsp;grid</br>&nbsp;&nbsp;&nbsp;(as->&nbsp;(base/expand-grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:wind&nbsp;w-mesh</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:temperature&nbsp;t-mesh</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:radiation&nbsp;r-mesh)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/brabra<-&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"fit.linear"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:value</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/predict&nbsp;fm1-env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:newdata</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/brabra<-&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"fit.loess.1"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:value</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-vector</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/predict</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fm2-env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:newdata</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/brabra<-&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"fit.loess.2"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:value</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-vector</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/predict</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fm3-env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:newdata</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/brabra<-&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"fit.locfit"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:value</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/predict</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fm4-env</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:newdata</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid))))</code></div><div class="nspout"><code class="prettyprint lang-clj">#'clojisr-examples.lattice/grid</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.8.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(+&nbsp;fit.linear</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit.loess.1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit.loess.2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit.locfit)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;wind&nbsp;temperature)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/wireframe&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:outer&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:shade&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;"")))</code></div></div><div class="nspbox"><image src="6.8.png"></image></div><div class="nspbox"><div><h3>Figure 6.9</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.9.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(+&nbsp;fit.linear</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit.loess.1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit.loess.2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit.locfit)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;wind&nbsp;temperature)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/levelplot&nbsp;:data&nbsp;grid)))</code></div></div><div class="nspbox"><image src="6.9.png"></image></div><div class="nspbox"><div><h3>Figure 6.10</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.10.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;fit.locfit</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;wind&nbsp;temperature)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;radiation))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/contourplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:layout&nbsp;[1&nbsp;4]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cuts&nbsp;15</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:label.style&nbsp;"align")))</code></div></div><div class="nspbox"><image src="6.10.png"></image></div><div class="nspbox"><div><h3>Figure 6.11</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"6.11a.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/levelplot&nbsp;volcano))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.11b.png")</br>&nbsp;&nbsp;&nbsp;(lat/contourplot&nbsp;volcano</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cuts&nbsp;20</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:label&nbsp;false))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.11c.png")</br>&nbsp;&nbsp;&nbsp;(lat/wireframe&nbsp;volcano</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.aspect&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zoom&nbsp;1))</code></div></div><div class="nspbox"><div><image src="6.11a.png"></image><image src="6.11b.png"></image><image src="6.11c.png"></image></div></div><div class="nspbox"><div><h3>Figure 6.12</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;cor-cars93</br>&nbsp;&nbsp;&nbsp;(stats/cor</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra&nbsp;r.MASS/Cars93</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/r!&nbsp;(base/sapply</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r.MASS/Cars93</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/is-factor)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:use</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"pair"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.12.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;cor-cars93</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/levelplot&nbsp;:scales</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:x&nbsp;{:rot&nbsp;90}})))</code></div></div><div class="nspbox"><image src="6.12.png"></image></div><div class="nspbox"><div><h3>Figure 6.13</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;ord</br>&nbsp;&nbsp;&nbsp;(->&nbsp;cor-cars93</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/dist)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/hclust)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/as-dendrogram)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/order-dendrogram)))</code></div><div class="nspout"><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;&nbsp;8&nbsp;&nbsp;9&nbsp;&nbsp;4&nbsp;&nbsp;5&nbsp;11&nbsp;16&nbsp;17&nbsp;&nbsp;7&nbsp;&nbsp;3&nbsp;&nbsp;1&nbsp;&nbsp;2&nbsp;15&nbsp;&nbsp;6&nbsp;14&nbsp;10&nbsp;18&nbsp;12&nbsp;13</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.13.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;(r/bra&nbsp;cor-cars93&nbsp;ord&nbsp;ord)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/levelplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;(lat/do-breaks&nbsp;[-1.01&nbsp;1.01]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;{:rot&nbsp;90}})))</code></div></div><div class="nspbox"><image src="6.13.png"></image></div><div class="nspbox"><div><h3>Figure 6.14</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r.utils/data&nbsp;'Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:package</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"mlmRev")</code></div><div class="nspout"><code class="prettyprint lang-clj">[1]&nbsp;"Chem97"</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;chem97</br>&nbsp;&nbsp;&nbsp;($<-&nbsp;r.mlmRev/Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'gcd</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(with</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chem97</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cut&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:breaks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(quantile</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gcsescore</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ppoints&nbsp;11&nbsp;:a&nbsp;1))))))</br>&nbsp;(def&nbsp;chem-tab</br>&nbsp;&nbsp;&nbsp;(stats/xtabs</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nil&nbsp;(+&nbsp;score&nbsp;gcd&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chem97))</br>&nbsp;(def&nbsp;chem-tab-df</br>&nbsp;&nbsp;&nbsp;(base/as-data-frame-table&nbsp;chem-tab))</br>&nbsp;(def&nbsp;tick-at</br>&nbsp;&nbsp;&nbsp;(->&nbsp;chem-tab-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;'Freq)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/sqrt)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/range)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/pretty)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.14.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(sqrt&nbsp;Freq)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;score&nbsp;gcd)&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/levelplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chem-tab-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:shrink&nbsp;[0.7&nbsp;1]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:colorkey</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:labels&nbsp;{:at&nbsp;tick-at,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:labels</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/r**&nbsp;tick-at&nbsp;2)}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso")))</code></div></div><div class="nspbox"><image src="6.14.png"></image></div><div class="nspbox"><div><h3>Figure 6.15</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.15.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;Freq</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;score&nbsp;gcd)&nbsp;gender))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;chem-tab-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;-40,&nbsp;:x&nbsp;-25}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zoom&nbsp;1.1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.facet&nbsp;"grey"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xbase&nbsp;0.7</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ybase&nbsp;0.6</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.settings</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:box.3d&nbsp;{:col&nbsp;"transparent"}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;[1.5&nbsp;0.75]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.aspect&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.3d.cloud</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;late/panel-3dbars)))</code></div></div><div class="nspbox"><image src="6.15.png"></image></div><div class="nspbox"><div><h3>Figure 6.16</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;grid</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[grid&nbsp;(base/expand-grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:u&nbsp;(lat/do-breaks&nbsp;[0.01</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.99]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:v&nbsp;(lat/do-breaks&nbsp;[0.01</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.99]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;25))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb&nbsp;(base/cbind&nbsp;($&nbsp;grid&nbsp;'u)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;grid&nbsp;'v))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'frank</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/dCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/frankCopula&nbsp;2)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'gumbel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/dCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/gumbelCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.2)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'normal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/dCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/normalCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.4)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($<-&nbsp;'t</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/dCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cb</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.copula/tCopula</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.4))))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.16.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(+&nbsp;frank&nbsp;gumbel&nbsp;normal&nbsp;t)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;u&nbsp;v))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/wireframe&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:outer&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;""</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;-30,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:x&nbsp;-50})))</code></div></div><div class="nspbox"><image src="6.16.png"></image></div><div class="nspbox"><div><h3>Figure 6.17</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.17.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(+&nbsp;frank&nbsp;gumbel&nbsp;normal&nbsp;t)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;u&nbsp;v))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/wireframe</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grid</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:outer&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:zlab&nbsp;""</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;-30,&nbsp;:x&nbsp;-50}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:z&nbsp;{:log&nbsp;true}})))</code></div></div><div class="nspbox"><image src="6.17.png"></image></div><div class="nspbox"><div><h3>Figure 6.18</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;rr&nbsp;2)&nbsp;(def&nbsp;tt&nbsp;1)&nbsp;(def&nbsp;n&nbsp;50)</br>&nbsp;(def&nbsp;kx</br>&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'kx</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[u&nbsp;v]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(cos&nbsp;u)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-&nbsp;(+&nbsp;~rr</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(cos&nbsp;(/&nbsp;u&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sin&nbsp;(*&nbsp;~tt&nbsp;v))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(sin&nbsp;(/&nbsp;u&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sin&nbsp;(*&nbsp;2&nbsp;~tt&nbsp;v))))))))</br>&nbsp;(def&nbsp;ky</br>&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'ky</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[u&nbsp;v]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(sin&nbsp;u)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(-&nbsp;(+&nbsp;~rr</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(cos&nbsp;(/&nbsp;u&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sin&nbsp;(*&nbsp;~tt&nbsp;v))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(sin&nbsp;(/&nbsp;u&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sin&nbsp;(*&nbsp;2&nbsp;~tt&nbsp;v))))))))</br>&nbsp;(def&nbsp;kz</br>&nbsp;&nbsp;&nbsp;(<-&nbsp;'kz</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[u&nbsp;v]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;(*&nbsp;(sin&nbsp;(/&nbsp;u&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sin&nbsp;(*&nbsp;~tt&nbsp;v)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;(cos&nbsp;(/&nbsp;u&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sin&nbsp;(*&nbsp;~tt&nbsp;v)))))))</br>&nbsp;(def&nbsp;u</br>&nbsp;&nbsp;&nbsp;(r/r*&nbsp;(base/seq&nbsp;0.3&nbsp;1.25&nbsp;:length&nbsp;n)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/pi))</br>&nbsp;(def&nbsp;v</br>&nbsp;&nbsp;&nbsp;(r/r*&nbsp;(base/seq&nbsp;0&nbsp;1&nbsp;:length&nbsp;n)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/pi))</br>&nbsp;(def&nbsp;um</br>&nbsp;&nbsp;&nbsp;(<-&nbsp;'um</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/matrix&nbsp;u</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/length&nbsp;u)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/length&nbsp;v))))</br>&nbsp;(def&nbsp;vm</br>&nbsp;&nbsp;&nbsp;(<-&nbsp;'vm</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/matrix&nbsp;v</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/length&nbsp;v)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/length&nbsp;u)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:byrow</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.18.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;(kz&nbsp;um&nbsp;vm)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;(kx&nbsp;um&nbsp;vm)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ky&nbsp;um&nbsp;vm)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/wireframe</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:shade&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:screen&nbsp;{:z&nbsp;170,&nbsp;:x&nbsp;-60}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0.75</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel.aspect&nbsp;0.6</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;[1&nbsp;0.4])))</code></div></div><div class="nspbox"><image src="6.18.png"></image></div><div class="nspbox"><div><h3>Figure 6.19</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r.utils/str&nbsp;late/USAge-df)</code></div><div class="nspout"><code class="prettyprint lang-clj">NULL</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;brewer-div</br>&nbsp;&nbsp;&nbsp;(dev/colorRampPalette</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r.RColorBrewer/brewer-pal</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Spectral")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:interpolate</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"spline"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"6.19.png")</br>&nbsp;&nbsp;&nbsp;(->&nbsp;'(formula&nbsp;Population</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;(*&nbsp;Year&nbsp;Age)&nbsp;Sex))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/levelplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;late/USAge-df</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cuts&nbsp;199</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.regions&nbsp;(brewer-div&nbsp;200)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"iso")))</code></div></div><div class="nspbox"><image src="6.19.png"></image></div><div class="nspbox"><a id="Chapter-7"> </a><div><h2>Chapter 7</h2></div></div><div class="nspbox"><div><h3>Figure 7.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;vad-plot</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(reorder&nbsp;Var2&nbsp;Freq)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;Freq&nbsp;Var1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/dotplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;(base/as-data-frame-table</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VADeaths)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:origin&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"h"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Death&nbsp;Rates&nbsp;in&nbsp;Virgninia&nbsp;-&nbsp;1940"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Number&nbsp;of&nbsp;deaths&nbsp;per&nbsp;100")))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"7.1.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vad-plot)</code></div></div><div class="nspbox"><image src="7.1.png"></image></div><div class="nspbox"><div><h3>Figure 7.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;dot-line-settings</br>&nbsp;&nbsp;&nbsp;(lat/trellis-par-get&nbsp;"dot.line"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;dot-line-settings)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:alpha&nbsp;[1.0],&nbsp;:col&nbsp;["#e6e6e6"],&nbsp;:lty&nbsp;[1.0],&nbsp;:lwd&nbsp;[1.0]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;dot-line-settings</br>&nbsp;&nbsp;&nbsp;($<-&nbsp;dot-line-settings</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'col</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"transparent"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(lat/trellis-par-set</br>&nbsp;&nbsp;&nbsp;"dot.line"</br>&nbsp;&nbsp;&nbsp;dot-line-settings)</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;plot-line-settings</br>&nbsp;&nbsp;&nbsp;(lat/trellis-par-get&nbsp;"plot.line"))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r->clj&nbsp;plot-line-settings)</code></div><div class="nspout"><code class="prettyprint lang-clj">{:alpha&nbsp;[1.0],&nbsp;:col&nbsp;["#0080ff"],&nbsp;:lty&nbsp;[1.0],&nbsp;:lwd&nbsp;[1.0]}</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;plot-line-settings</br>&nbsp;&nbsp;&nbsp;($<-&nbsp;plot-line-settings&nbsp;'lwd&nbsp;2))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(lat/trellis-par-set</br>&nbsp;&nbsp;&nbsp;"plot.line"</br>&nbsp;&nbsp;&nbsp;plot-line-settings)</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"7.2.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vad-plot)</code></div></div><div class="nspbox"><image src="7.2.png"></image></div><div class="nspbox"><div><h3>Figure 7.2 (alternative)</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;panel-dotline</br>&nbsp;&nbsp;&nbsp;(<-&nbsp;'panel.dotline</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y&nbsp;:col&nbsp;($&nbsp;dot.symbol&nbsp;col)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;($&nbsp;dot.symbol&nbsp;pch)&nbsp;:cex</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;dot.symbol&nbsp;cex)&nbsp;:alpha</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;dot.symbol&nbsp;alpha)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col.line&nbsp;($&nbsp;plot.line&nbsp;col)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;($&nbsp;plot.line&nbsp;lty)&nbsp;:lwd</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;plot.line&nbsp;lwd)&nbsp;:alpha.line</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;plot.line&nbsp;alpha)&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;dot.symbol</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(trellis.par.get</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"dot.symbol"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;plot.line</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(trellis.par.get</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"plot.line"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.segments</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;col.line</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lty&nbsp;lty</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lwd&nbsp;lwd</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;alpha.line)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.points</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;col</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch&nbsp;pch</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cex&nbsp;cex</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;alpha))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(lat/trellis-par-set</br>&nbsp;&nbsp;&nbsp;:dot.line&nbsp;dot-line-settings</br>&nbsp;&nbsp;&nbsp;:plot.line&nbsp;plot-line-settings)</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(lat/trellis-par-set</br>&nbsp;&nbsp;&nbsp;:dot.line&nbsp;{:col&nbsp;"transparent"}</br>&nbsp;&nbsp;&nbsp;:plot.line&nbsp;{:lwd&nbsp;2})</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(lat/trellis-par-set</br>&nbsp;&nbsp;&nbsp;{:dot.line&nbsp;{:col&nbsp;"transparent"},</br>&nbsp;&nbsp;&nbsp;&nbsp;:plot.line&nbsp;{:lwd&nbsp;2}})</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"7.2a.png")</br>&nbsp;&nbsp;&nbsp;(stats/update</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vad-plot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:par.settings</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:dot.line&nbsp;{:col&nbsp;"transparent"},</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.line&nbsp;{:lwd&nbsp;2}}))</code></div></div><div class="nspbox"><image src="7.2a.png"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;unusual</br>&nbsp;&nbsp;&nbsp;["grid.pars"&nbsp;"fontsize"&nbsp;"clip"</br>&nbsp;&nbsp;&nbsp;&nbsp;"axis.components"&nbsp;"layout.heights"</br>&nbsp;&nbsp;&nbsp;&nbsp;"layout.widths"])</br>&nbsp;(def&nbsp;tp</br>&nbsp;&nbsp;&nbsp;(reduce</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#(r/brabra<-&nbsp;%1&nbsp;%2&nbsp;:value&nbsp;nil)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/trellis-par-get)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unusual))</br>&nbsp;(def&nbsp;names-tp</br>&nbsp;&nbsp;&nbsp;(base/lapply&nbsp;tp&nbsp;base/names))</br>&nbsp;(def&nbsp;unames</br>&nbsp;&nbsp;&nbsp;(->&nbsp;names-tp</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/unlist</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/unique</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/sort))</br>&nbsp;(def&nbsp;ans</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[tans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;(base/matrix</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:nrow&nbsp;(base/length</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;names-tp)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ncol&nbsp;(base/length</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unames))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/rownames<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/names&nbsp;names-tp))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/colnames<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unames))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(as->&nbsp;(reduce&nbsp;#(r/bra<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/as-numeric</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/%in%</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unames</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/brabra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;names-tp</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj&nbsp;(base/seq</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:along</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;names-tp)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(order&nbsp;(-&nbsp;(colSums</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ans))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/rowSums</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base/order)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/empty-symbol))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r/bra<-&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`(==&nbsp;~ans&nbsp;0)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'NA))))</code></div></div><div class="nspbox"><div><h3>Figure 7.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"7.3.png")</br>&nbsp;&nbsp;&nbsp;(lat/levelplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/t&nbsp;ans)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:colorkey&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;{:rot&nbsp;90}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:panel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x&nbsp;y&nbsp;z&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.abline</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:v&nbsp;(unique&nbsp;(as.numeric&nbsp;x))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:h&nbsp;(unique&nbsp;(as.numeric&nbsp;y))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;"darkgrey")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.xyplot&nbsp;x</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pch</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(*&nbsp;16&nbsp;z)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Graphical&nbsp;parameters"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Setting&nbsp;names"))</code></div></div><div class="nspbox"><image src="7.3.png"></image></div><div class="nspbox"><div><h3>Figure 7.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"7.4.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/show-settings))</code></div></div><div class="nspbox"><image src="7.4.png"></image></div><div class="nspbox"><a id="Chapter-8"> </a><div><h2>Chapter 8</h2></div></div><div class="nspbox"><div><h3>Figure 8.1</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"8.1.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;depth&nbsp;(factor&nbsp;mag))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/stripplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;quakes</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:jitter.data&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:y&nbsp;"free",&nbsp;:rot&nbsp;0}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function&nbsp;[x&nbsp;y&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{:ylim&nbsp;(rev&nbsp;(range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y))})</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Magnitude&nbsp;(Richter&nbsp;scale)")))</code></div></div><div class="nspbox"><image src="8.1.png"></image></div><div class="nspbox"><div><h3>Figure 8.2</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"8.2.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;(/&nbsp;counts&nbsp;1000)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;time</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(equal.count</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(as.numeric&nbsp;time)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:overlap</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.1)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;late/biocAccess</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"l"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:strip&nbsp;false</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Numer&nbsp;of&nbsp;accesses&nbsp;(thousands)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;""</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:x&nbsp;{:relation&nbsp;"sliced",</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:axs&nbsp;"i"},</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;{:alternating</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false}})))</code></div></div><div class="nspbox"><image src="8.2.png"></image></div><div class="nspbox"><div><h3>Figure 8.3</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"8.3.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;accel&nbsp;distance)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel&nbsp;lat/prepanel-loess</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"&nbsp;"smooth"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)")))</code></div></div><div class="nspbox"><image src="8.3.png"></image></div><div class="nspbox"><div><h3>Figure 8.4</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;yscale-components-log2</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(yscale.components.default</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;right)&nbsp;($&nbsp;ans&nbsp;left))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;left&nbsp;labels&nbsp;labels)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(parse&nbsp;:text</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;ans&nbsp;right&nbsp;labels&nbsp;labels)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(~r.MASS/fractions</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(**</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;ans&nbsp;right&nbsp;labels&nbsp;at))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans)))</br>&nbsp;(def&nbsp;log-ticks</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[lim&nbsp;:loc&nbsp;[1&nbsp;5]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;ii</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;(floor&nbsp;(log10&nbsp;(range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lim)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[-1&nbsp;2]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(**&nbsp;10</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(colon&nbsp;(bra&nbsp;ii&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;ii&nbsp;2))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(as.numeric</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(outer&nbsp;loc&nbsp;main&nbsp;"*")))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&&nbsp;(<=&nbsp;(bra&nbsp;lim&nbsp;1)&nbsp;r)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<=&nbsp;r&nbsp;(bra&nbsp;lim&nbsp;2)))))))</br>&nbsp;(def&nbsp;xscale-components-log2</br>&nbsp;&nbsp;&nbsp;(r&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[lim&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(xscale.components.default</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;tick.at</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(~log-ticks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(**&nbsp;2&nbsp;lim)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:loc</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[1&nbsp;3]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;ticks&nbsp;at)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log&nbsp;tick.at&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;labels&nbsp;at)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log&nbsp;tick.at&nbsp;2))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;labels&nbsp;labels)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(as.character&nbsp;tick.at))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"8.4.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;accel</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(|&nbsp;distance</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cut&nbsp;Richter</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[4.9&nbsp;5.5&nbsp;6.5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.8])))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:y&nbsp;{:alternating&nbsp;3}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xscale.components</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xscale-components-log2</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:yscale.components</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yscale-components-log2)))</code></div></div><div class="nspbox"><image src="8.4.png"></image></div><div class="nspbox"><div><h3>Figure 8.5</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;xscale-components-log10</br>&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[lim&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(xscale.components.default</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;tick.at</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(~log-ticks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(**&nbsp;10&nbsp;lim)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:loc</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(colon&nbsp;1&nbsp;9)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;tick.at.major</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(~log-ticks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(**&nbsp;10&nbsp;lim)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:loc</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;major</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(%in%&nbsp;tick.at</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tick.at.major))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;ticks&nbsp;at)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log&nbsp;tick.at&nbsp;10))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;ticks&nbsp;tck)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ifelse&nbsp;major&nbsp;1.5&nbsp;0.75))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;labels&nbsp;at)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(log&nbsp;tick.at&nbsp;10))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;labels&nbsp;labels)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(as.character&nbsp;tick.at))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($&nbsp;ans&nbsp;bottom&nbsp;labels&nbsp;labels)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(!&nbsp;major))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;($&nbsp;ans</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bottom</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;labels</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check.overlap)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"8.5.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;accel&nbsp;distance)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:data&nbsp;r.MEMSS/Earthquake</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:prepanel&nbsp;lat/prepanel-loess</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;["p"&nbsp;"g"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:log&nbsp;10}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Distance&nbsp;From&nbsp;Epicenter&nbsp;(km)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Maximum&nbsp;Horizontal&nbsp;Acceleration&nbsp;(g)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xscale.components</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xscale-components-log10)))</code></div></div><div class="nspbox"><image src="8.5.png"></image></div><div class="nspbox"><div><h3>Figure 8.6</h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;axis-cf</br>&nbsp;&nbsp;&nbsp;(r</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[side&nbsp;...]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(if&nbsp;(==&nbsp;side&nbsp;"right")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(do</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;F2C</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[f]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(/&nbsp;(*&nbsp;5&nbsp;(-&nbsp;f&nbsp;32))&nbsp;9)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;C2F</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(function</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[c]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(+&nbsp;32&nbsp;(/&nbsp;(*&nbsp;9&nbsp;c)&nbsp;5))))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;ylim</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;($</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(current.panel.limits)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ylim))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;prettyF&nbsp;(pretty&nbsp;ylim))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;prettyC</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(pretty&nbsp;(F2C&nbsp;ylim)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.axis</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:side&nbsp;side</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:outside&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;prettyF</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tck&nbsp;5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:line.col&nbsp;"grey65"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:text.col&nbsp;"grey35")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(panel.axis</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:side&nbsp;side</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:outside&nbsp;true</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:at&nbsp;(C2F&nbsp;prettyC)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:labels&nbsp;(as.character</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prettyC)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tck&nbsp;1</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:line.col&nbsp;"black"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:text.col&nbsp;"black"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(axis.default&nbsp;:side</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;side</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...)))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"8.6.png")</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(formula&nbsp;nhtemp&nbsp;(time&nbsp;nhtemp))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lat/xyplot</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aspect&nbsp;"xy"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:type&nbsp;"o"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scales&nbsp;{:y&nbsp;{:alternating&nbsp;2,</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tck&nbsp;[1&nbsp;5]}}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Year"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Temperature"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:main</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Yearly&nbsp;temperature&nbsp;in&nbsp;New&nbsp;Haven,&nbsp;CT"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:key&nbsp;{:text&nbsp;[:!list</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["(Celcius)"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"(Fahrenheit)"]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["black"&nbsp;"grey35"]],</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:columns&nbsp;2}</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:axis&nbsp;axis-cf)))</code></div></div><div class="nspbox"><image src="8.6.png"></image></div><hr /><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/lattice.clj">clojisr-examples.lattice</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Tue Mar 24 23:53:57 CET 2020.</small></i><hr /></div></div></body></html></html>