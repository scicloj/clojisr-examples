<!DOCTYPE html>
<html><body style="background-color:#fbf8ef;"><head><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script></head><div><h1>clojisr-examples.r-by-example</h1><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/r_by_example.clj">clojisr-examples.r-by-example</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Thu Feb 20 15:43:18 CET 2020.</small></i><hr /></div><div>Checks: <b><b style="color:green">6 PASSED </b></b><hr /></div><div>Table of contents<ul><li><a href="#Setup">Setup</a></li><li><a href="#Chapter-1">Chapter-1</a></li></ul><hr /></div><p><div><h1>'R by Example' by Jim Albert and Maria Rizzo - read-along</h1></div></p><p><div><p>Code from the book ported to <code>clojisr</code> library. Read the book and run a code in Clojure.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="Setup">~~~~Setup~~~~</a></div></p></p><p><div><h2>Setup</h2></div></p><p><div><p>Imports from <code>clojisr</code> library.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer&nbsp;[r&nbsp;r->clj&nbsp;clj->r&nbsp;r+&nbsp;colon&nbsp;bra&nbsp;bra<-]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.applications.plotting&nbsp;:refer&nbsp;[plot->file]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tech.ml.dataset&nbsp;:as&nbsp;dataset]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[notespace.v1.util&nbsp;:refer&nbsp;[check]])</br></code></div></div></p></p><p><div><p>Import basic R packages.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:as&nbsp;base&nbsp;:refer&nbsp;[$&nbsp;<-&nbsp;$<-]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[utils&nbsp;:as&nbsp;u]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[stats&nbsp;:as&nbsp;stats]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[graphics&nbsp;:as&nbsp;g]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[datasets&nbsp;:refer&nbsp;:all])</br></code></div></div></p></p><p><div><p>We will also use <code>def-r</code> macro (not shown here) which helps to define the same things on both sides (Clojure and R).</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><a id="Chapter-1">~~~~Chapter-1~~~~</a></div></p></p><p><div><h2>Chapter 1 - Introduction</h2></div></p><p><div><h3>1.1.1 - Preliminaries</h3></div></p><p><div><p>Various ways to call R backend.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[x&nbsp;[109.0&nbsp;65.0&nbsp;22.0&nbsp;3.0&nbsp;1.0]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x1&nbsp;(r->clj&nbsp;(r&nbsp;[109.0&nbsp;65&nbsp;22&nbsp;3&nbsp;1]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x2&nbsp;(r->clj&nbsp;(r&nbsp;"c(109,&nbsp;65,&nbsp;22,&nbsp;3,&nbsp;1)"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x3&nbsp;(r->clj&nbsp;(r&nbsp;'[c&nbsp;109.0&nbsp;65.0&nbsp;22.0&nbsp;3.0&nbsp;1.0]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x4&nbsp;(r->clj&nbsp;(base/c&nbsp;109.0&nbsp;65.0&nbsp;22.0&nbsp;3.0&nbsp;1.0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x5&nbsp;(r->clj&nbsp;(r&nbsp;x))]</br>&nbsp;&nbsp;(check&nbsp;=&nbsp;x1&nbsp;x2&nbsp;x3&nbsp;x4&nbsp;x5&nbsp;x))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[109.0&nbsp;65.0&nbsp;22.0&nbsp;3.0&nbsp;1.0]]</br></code></p><p><div><p>Assigment to a var on R side. Three variants.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(do&nbsp;(r&nbsp;'(=&nbsp;x1&nbsp;(c&nbsp;109&nbsp;65&nbsp;22&nbsp;3&nbsp;1)))</br>&nbsp;&nbsp;&nbsp;&nbsp;(r&nbsp;'(<-&nbsp;x2&nbsp;(c&nbsp;109&nbsp;65&nbsp;22&nbsp;3&nbsp;1)))</br>&nbsp;&nbsp;&nbsp;&nbsp;(<-&nbsp;'x3&nbsp;[109&nbsp;65&nbsp;22&nbsp;3&nbsp;1])</br>&nbsp;&nbsp;&nbsp;&nbsp;(check&nbsp;=&nbsp;(r->clj&nbsp;(r&nbsp;'x1))&nbsp;(r->clj&nbsp;(r&nbsp;'x2))&nbsp;(r->clj&nbsp;(r&nbsp;'x3))))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[109&nbsp;65&nbsp;22&nbsp;3&nbsp;1]]</br></code></p><p><div><p>We will use <code>def-r</code> helper to define the same thing in Clojure and R.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def-r&nbsp;x&nbsp;[109&nbsp;65&nbsp;22&nbsp;3&nbsp;1])</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;109&nbsp;&nbsp;65&nbsp;&nbsp;22&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;1</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;x&nbsp;(r->clj&nbsp;(r&nbsp;'x)))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;[109&nbsp;65&nbsp;22&nbsp;3&nbsp;1]]</br></code></p><p><div><p>Below <code>y</code> on Clojure and R sides represent the same R object. <code>stats/rpois</code> is R function.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def-r&nbsp;y&nbsp;(stats/rpois&nbsp;200&nbsp;:lambda&nbsp;0.61))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;[1]&nbsp;1&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;3&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;3&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;2&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0</br>&nbsp;[38]&nbsp;3&nbsp;1&nbsp;2&nbsp;0&nbsp;3&nbsp;1&nbsp;0&nbsp;1&nbsp;3&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;1&nbsp;2&nbsp;0&nbsp;1&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;0</br>&nbsp;[75]&nbsp;1&nbsp;0&nbsp;3&nbsp;2&nbsp;0&nbsp;0&nbsp;2&nbsp;1&nbsp;2&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;1&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1</br>[112]&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;3&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;1&nbsp;3&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1</br>[149]&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;2&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;0</br>[186]&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;3&nbsp;1&nbsp;0&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;1</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(take&nbsp;10&nbsp;(r->clj&nbsp;y))&nbsp;(take&nbsp;10&nbsp;(r->clj&nbsp;(r&nbsp;'y))))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;(1&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;3&nbsp;0&nbsp;0)]</br></code></p><p><div><p>Usually it's enough to have variable only on Clojure side.</p></div></p><p><div><h3>1.1.2 - Basic operations</h3></div></p><p><div><h4>Example 1.1 - Temperature data</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;temps&nbsp;[51.9&nbsp;51.8&nbsp;51.9&nbsp;53])</br></code></div></div></p><code class="prettyprint lang-clj">[51.9&nbsp;51.8&nbsp;51.9&nbsp;53]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r&nbsp;['-&nbsp;temps&nbsp;32])</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;19.9&nbsp;19.8&nbsp;19.9&nbsp;21.0</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r&nbsp;['*&nbsp;5/9&nbsp;['-&nbsp;temps&nbsp;32]])</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;11.05556&nbsp;11.00000&nbsp;11.05556&nbsp;11.66667</br></br></code></p><p><div><p>We can define helper functions for primitive binary operations used above</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;r-&nbsp;(r&nbsp;"`-`"))</br></code></div><div><code class="prettyprint lang-clj">(def&nbsp;r*&nbsp;(r&nbsp;"`*`"))</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r-&nbsp;temps&nbsp;32)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;19.9&nbsp;19.8&nbsp;19.9&nbsp;21.0</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r*&nbsp;5/9&nbsp;(r-&nbsp;temps&nbsp;32))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;11.05556&nbsp;11.00000&nbsp;11.05556&nbsp;11.66667</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;CT&nbsp;[48&nbsp;48.2&nbsp;48&nbsp;48.7])</br></code></div></div></p><code class="prettyprint lang-clj">[48&nbsp;48.2&nbsp;48&nbsp;48.7]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r-&nbsp;temps&nbsp;CT)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;3.9&nbsp;3.6&nbsp;3.9&nbsp;4.3</br></br></code></p><p><div><h4>Example 1.2 - President's heights</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;winner&nbsp;[185&nbsp;182&nbsp;182&nbsp;188&nbsp;188&nbsp;188&nbsp;185&nbsp;185&nbsp;177&nbsp;182&nbsp;182&nbsp;193&nbsp;183&nbsp;179&nbsp;179&nbsp;175])</br></code></div><div><code class="prettyprint lang-clj">(def&nbsp;opponent&nbsp;[175&nbsp;193&nbsp;185&nbsp;187&nbsp;188&nbsp;173&nbsp;180&nbsp;177&nbsp;183&nbsp;185&nbsp;180&nbsp;180&nbsp;182&nbsp;178&nbsp;178&nbsp;173])</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[l1&nbsp;(first&nbsp;(r->clj&nbsp;(base/length&nbsp;winner)))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l2&nbsp;(count&nbsp;winner)]</br>&nbsp;&nbsp;(check&nbsp;=&nbsp;l1&nbsp;l2))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED&nbsp;16]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;year&nbsp;(base/seq&nbsp;:from&nbsp;2008&nbsp;:to&nbsp;1948&nbsp;:by&nbsp;-4))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;2008&nbsp;2004&nbsp;2000&nbsp;1996&nbsp;1992&nbsp;1988&nbsp;1984&nbsp;1980&nbsp;1976&nbsp;1972&nbsp;1968&nbsp;1964&nbsp;1960&nbsp;1956&nbsp;1952</br>[16]&nbsp;1948</br></br></code></p><p><div><p>or</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;year&nbsp;(base/seq&nbsp;2008&nbsp;1948&nbsp;-4))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;2008&nbsp;2004&nbsp;2000&nbsp;1996&nbsp;1992&nbsp;1988&nbsp;1984&nbsp;1980&nbsp;1976&nbsp;1972&nbsp;1968&nbsp;1964&nbsp;1960&nbsp;1956&nbsp;1952</br>[16]&nbsp;1948</br></br></code></p><p><div><p>Modifying data</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;winner-var1</br>&nbsp;&nbsp;(->&nbsp;winner</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra<-&nbsp;4&nbsp;189)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra<-&nbsp;5&nbsp;189)))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;185&nbsp;182&nbsp;182&nbsp;189&nbsp;189&nbsp;188&nbsp;185&nbsp;185&nbsp;177&nbsp;182&nbsp;182&nbsp;193&nbsp;183&nbsp;179&nbsp;179&nbsp;175</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;winner-var2&nbsp;(bra<-&nbsp;winner&nbsp;(colon&nbsp;4&nbsp;5)&nbsp;189))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;185&nbsp;182&nbsp;182&nbsp;189&nbsp;189&nbsp;188&nbsp;185&nbsp;185&nbsp;177&nbsp;182&nbsp;182&nbsp;193&nbsp;183&nbsp;179&nbsp;179&nbsp;175</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(check&nbsp;=&nbsp;(r->clj&nbsp;winner-var1)&nbsp;(r->clj&nbsp;winner-var2))</br></code></div></div></p><code class="prettyprint lang-clj">[:PASSED</br>&nbsp;[185&nbsp;182&nbsp;182&nbsp;189&nbsp;189&nbsp;188&nbsp;185&nbsp;185&nbsp;177&nbsp;182&nbsp;182&nbsp;193&nbsp;183&nbsp;179&nbsp;179&nbsp;175]]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;winner&nbsp;winner-var1)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;185&nbsp;182&nbsp;182&nbsp;189&nbsp;189&nbsp;188&nbsp;185&nbsp;185&nbsp;177&nbsp;182&nbsp;182&nbsp;193&nbsp;183&nbsp;179&nbsp;179&nbsp;175</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/mean&nbsp;winner)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;183.4375</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/mean&nbsp;opponent)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;181.0625</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;difference&nbsp;(r-&nbsp;winner&nbsp;opponent))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;&nbsp;10&nbsp;-11&nbsp;&nbsp;-3&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;15&nbsp;&nbsp;&nbsp;5&nbsp;&nbsp;&nbsp;8&nbsp;&nbsp;-6&nbsp;&nbsp;-3&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;13&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;2</br></br></code></p><p><div><p>We have to explicitly provide column names.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/data-frame&nbsp;:year&nbsp;year</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:winner&nbsp;winner</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:opponent&nbsp;opponent</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:difference&nbsp;difference)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;year&nbsp;winner&nbsp;opponent&nbsp;difference</br>1&nbsp;&nbsp;2008&nbsp;&nbsp;&nbsp;&nbsp;185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;175&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10</br>2&nbsp;&nbsp;2004&nbsp;&nbsp;&nbsp;&nbsp;182&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;193&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-11</br>3&nbsp;&nbsp;2000&nbsp;&nbsp;&nbsp;&nbsp;182&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-3</br>4&nbsp;&nbsp;1996&nbsp;&nbsp;&nbsp;&nbsp;189&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;187&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</br>5&nbsp;&nbsp;1992&nbsp;&nbsp;&nbsp;&nbsp;189&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;188&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</br>6&nbsp;&nbsp;1988&nbsp;&nbsp;&nbsp;&nbsp;188&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;173&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15</br>7&nbsp;&nbsp;1984&nbsp;&nbsp;&nbsp;&nbsp;185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;180&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5</br>8&nbsp;&nbsp;1980&nbsp;&nbsp;&nbsp;&nbsp;185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;177&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8</br>9&nbsp;&nbsp;1976&nbsp;&nbsp;&nbsp;&nbsp;177&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-6</br>10&nbsp;1972&nbsp;&nbsp;&nbsp;&nbsp;182&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;185&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-3</br>11&nbsp;1968&nbsp;&nbsp;&nbsp;&nbsp;182&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;180&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</br>12&nbsp;1964&nbsp;&nbsp;&nbsp;&nbsp;193&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;180&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13</br>13&nbsp;1960&nbsp;&nbsp;&nbsp;&nbsp;183&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;182&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</br>14&nbsp;1956&nbsp;&nbsp;&nbsp;&nbsp;179&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;178&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</br>15&nbsp;1952&nbsp;&nbsp;&nbsp;&nbsp;179&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;178&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1</br>16&nbsp;1948&nbsp;&nbsp;&nbsp;&nbsp;175&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;173&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;taller-won&nbsp;(r&nbsp;['>&nbsp;winner&nbsp;opponent]))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;&nbsp;TRUE&nbsp;FALSE&nbsp;FALSE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE&nbsp;FALSE&nbsp;FALSE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE</br>[13]&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE&nbsp;&nbsp;TRUE</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/table&nbsp;taller-won)</br></code></div></div></p><code class="prettyprint lang-clj"></br>FALSE&nbsp;&nbsp;TRUE&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;&nbsp;&nbsp;&nbsp;12&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;rdiv&nbsp;(r&nbsp;"`/`"))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(e1,&nbsp;e2)&nbsp;&nbsp;.Primitive("/")</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(->&nbsp;taller-won</br>&nbsp;&nbsp;&nbsp;&nbsp;(base/table)</br>&nbsp;&nbsp;&nbsp;&nbsp;(rdiv&nbsp;16)</br>&nbsp;&nbsp;&nbsp;&nbsp;(r*&nbsp;100))</br></code></div></div></p><code class="prettyprint lang-clj"></br>FALSE&nbsp;&nbsp;TRUE&nbsp;</br>&nbsp;&nbsp;&nbsp;25&nbsp;&nbsp;&nbsp;&nbsp;75&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex2.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn*&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(g/barplot&nbsp;(base/rev&nbsp;difference)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:xlab&nbsp;"Election&nbsp;years&nbsp;1948&nbsp;to&nbsp;2008"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ylab&nbsp;"Height&nbsp;difference&nbsp;in&nbsp;cm")))</br></code></div></div></p></p><p><image src="ch1ex2.png"></image></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex2b.png")&nbsp;(fn*&nbsp;[]&nbsp;(g/plot&nbsp;winner&nbsp;opponent)))</br></code></div></div></p></p><p><image src="ch1ex2b.png"></image></p><p><div><h4>Example 1.3 - horsekicks</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;k&nbsp;[0&nbsp;1&nbsp;2&nbsp;3&nbsp;4])</br></code></div><div><code class="prettyprint lang-clj">(def&nbsp;x&nbsp;[109&nbsp;65&nbsp;22&nbsp;3&nbsp;1])</br></code></div></div></p></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex3.png")&nbsp;(fn*&nbsp;[]&nbsp;(g/barplot&nbsp;x&nbsp;:names.arg&nbsp;k)))</br></code></div></div></p></p><p><image src="ch1ex3.png"></image></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;rpow&nbsp;(r&nbsp;"`^`"))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(e1,&nbsp;e2)&nbsp;&nbsp;.Primitive("^")</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;p&nbsp;(rdiv&nbsp;x&nbsp;(base/sum&nbsp;x)))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.545&nbsp;0.325&nbsp;0.110&nbsp;0.015&nbsp;0.005</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;rr&nbsp;(base/sum&nbsp;(r*&nbsp;p&nbsp;k)))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.61</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;v</br>&nbsp;&nbsp;(->&nbsp;(r-&nbsp;k&nbsp;rr)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rpow&nbsp;2)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r*&nbsp;x)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/sum)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rdiv&nbsp;199)))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.6109548</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f1</br>&nbsp;&nbsp;(->&nbsp;(r-&nbsp;rr)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/exp)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r*&nbsp;(rpow&nbsp;rr&nbsp;k))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(rdiv&nbsp;(base/factorial&nbsp;k))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj)))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(...)&nbsp;</br>{</br>&nbsp;&nbsp;&nbsp;&nbsp;1</br>}</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f2&nbsp;(r->clj&nbsp;(stats/dpois&nbsp;k&nbsp;rr)))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(...)&nbsp;</br>{</br>&nbsp;&nbsp;&nbsp;&nbsp;.MEM$x3836fa385df94a4b</br>}</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;f2)</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;a&nbsp;=&nbsp;1,&nbsp;b&nbsp;=&nbsp;1)&nbsp;</br>x^(a&nbsp;-&nbsp;1)&nbsp;*&nbsp;(1&nbsp;-&nbsp;x)^(b&nbsp;-&nbsp;1)</br><bytecode:&nbsp;0x7fffed9959f8></br></br></code></p><p><div><p>Expected counts</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r->clj&nbsp;(base/floor&nbsp;(r*&nbsp;200&nbsp;f)))</br></code></div></div></p><code class="prettyprint lang-clj">[108.0&nbsp;66.0&nbsp;20.0&nbsp;4.0&nbsp;0.0]</br></code></p><p><div><p>Observed counts</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">x</br></code></div></div></p><code class="prettyprint lang-clj">[109&nbsp;65&nbsp;22&nbsp;3&nbsp;1]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/cbind&nbsp;k&nbsp;p&nbsp;f)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[,1]&nbsp;&nbsp;[,2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[,3]</br>[1,]&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;0.545&nbsp;0.543350869</br>[2,]&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;0.325&nbsp;0.331444030</br>[3,]&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;0.110&nbsp;0.101090429</br>[4,]&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;0.015&nbsp;0.020555054</br>[5,]&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;0.005&nbsp;0.003134646</br></br></code></p><p><div><h3>1.1.3 - R Scripts</h3></div></p><p><div><h4>Example 1.4 - Simulated horsekick data</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;y&nbsp;(stats/rpois&nbsp;200&nbsp;:lambda&nbsp;0.61))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;[1]&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;3&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;1&nbsp;2&nbsp;1&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0</br>&nbsp;[38]&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;2&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;2&nbsp;1&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;0&nbsp;2&nbsp;1&nbsp;0</br>&nbsp;[75]&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;3&nbsp;0&nbsp;2&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;1&nbsp;1&nbsp;1&nbsp;1</br>[112]&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;1&nbsp;1&nbsp;0&nbsp;1&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;4</br>[149]&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;2&nbsp;1&nbsp;0&nbsp;0&nbsp;2&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;2&nbsp;0&nbsp;0&nbsp;0&nbsp;1</br>[186]&nbsp;0&nbsp;0&nbsp;1&nbsp;1&nbsp;0&nbsp;0&nbsp;0&nbsp;1&nbsp;0&nbsp;3&nbsp;1&nbsp;1&nbsp;2&nbsp;1&nbsp;0</br></br></code></p><p><div><p>Table of sample frequencies</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;kicks&nbsp;(base/table&nbsp;y))</br></code></div></div></p><code class="prettyprint lang-clj"></br>&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;4&nbsp;</br>111&nbsp;&nbsp;65&nbsp;&nbsp;20&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;1&nbsp;</br></br></code></p><p><div><p>Sample proportions</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(rdiv&nbsp;kicks&nbsp;200)</br></code></div></div></p><code class="prettyprint lang-clj"></br>&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;</br>0.555&nbsp;0.325&nbsp;0.100&nbsp;0.015&nbsp;0.005&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;theoretical</br>&nbsp;&nbsp;(->&nbsp;kicks</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r->clj</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;range</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/dpois&nbsp;:lambda&nbsp;0.61)))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.543350869&nbsp;0.331444030&nbsp;0.101090429&nbsp;0.020555054&nbsp;0.003134646</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;sample&nbsp;(rdiv&nbsp;kicks&nbsp;200))</br></code></div></div></p><code class="prettyprint lang-clj"></br>&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp;</br>0.555&nbsp;0.325&nbsp;0.100&nbsp;0.015&nbsp;0.005&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/cbind&nbsp;:theoretical&nbsp;theoretical&nbsp;:sample&nbsp;sample)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;theoretical&nbsp;sample</br>0&nbsp;0.543350869&nbsp;&nbsp;0.555</br>1&nbsp;0.331444030&nbsp;&nbsp;0.325</br>2&nbsp;0.101090429&nbsp;&nbsp;0.100</br>3&nbsp;0.020555054&nbsp;&nbsp;0.015</br>4&nbsp;0.003134646&nbsp;&nbsp;0.005</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/mean&nbsp;y)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.59</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(stats/var&nbsp;y)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.5948744</br></br></code></p><p><div><h3>1.1.4 - The R Help System</h3></div></p><p><div><p>Unfortunately <code>help</code> or <code>example</code> commands do not work</p></div></p><p><div><h2>1.2 - Functions</h2></div></p><p><div><p>Two ways to define functions.</p></div></p><p><div><p>R string</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f1&nbsp;(r&nbsp;"function(...)&nbsp;{1}"))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(...)&nbsp;</br>{</br>&nbsp;&nbsp;&nbsp;&nbsp;1</br>}</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(f1)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;1</br></br></code></p><p><div><p>Clojure style</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f2&nbsp;(r&nbsp;'(function&nbsp;[...]&nbsp;1)))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(...)&nbsp;</br>{</br>&nbsp;&nbsp;&nbsp;&nbsp;.MEM$x3836fa385df94a4b</br>}</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(f2)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;1</br></br></code></p><p><div><h4>Example 1.5 - function definition</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;var-n&nbsp;(r&nbsp;'(function&nbsp;[x]&nbsp;(=&nbsp;v&nbsp;#'x)&nbsp;(=&nbsp;n&nbsp;(NROW&nbsp;x))&nbsp;(/&nbsp;(*&nbsp;(-&nbsp;n&nbsp;1)&nbsp;v)&nbsp;n))))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(x)&nbsp;</br>{</br>&nbsp;&nbsp;&nbsp;&nbsp;(v&nbsp;=&nbsp;var(x))</br>&nbsp;&nbsp;&nbsp;&nbsp;(n&nbsp;=&nbsp;NROW(x))</br>&nbsp;&nbsp;&nbsp;&nbsp;(((n&nbsp;-&nbsp;.MEM$xb66a85aa88314359)&nbsp;*&nbsp;v)/n)</br>}</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(stats/var&nbsp;temps)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.3233333</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(var-n&nbsp;temps)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.2425</br></br></code></p><p><div><h4>Example 1.6 - functions as arguments</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;f&nbsp;(r&nbsp;"function(x,&nbsp;a=1,&nbsp;b=1)&nbsp;x^(a-1)&nbsp;*&nbsp;(1-x)^(b-1)"))</br></code></div></div></p><code class="prettyprint lang-clj">function&nbsp;(x,&nbsp;a&nbsp;=&nbsp;1,&nbsp;b&nbsp;=&nbsp;1)&nbsp;</br>x^(a&nbsp;-&nbsp;1)&nbsp;*&nbsp;(1&nbsp;-&nbsp;x)^(b&nbsp;-&nbsp;1)</br><bytecode:&nbsp;0x7fffed9959f8></br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[x&nbsp;(base/seq&nbsp;0&nbsp;1&nbsp;0.2)]&nbsp;(f&nbsp;x&nbsp;:a&nbsp;2&nbsp;:b&nbsp;2))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.00&nbsp;0.16&nbsp;0.24&nbsp;0.24&nbsp;0.16&nbsp;0.00</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(stats/integrate&nbsp;f&nbsp;:lower&nbsp;0&nbsp;:upper&nbsp;1&nbsp;:a&nbsp;2&nbsp;:b&nbsp;2)</br></code></div></div></p><code class="prettyprint lang-clj">0.1666667&nbsp;with&nbsp;absolute&nbsp;error&nbsp;<&nbsp;1.9e-15</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/beta&nbsp;2&nbsp;2)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.1666667</br></br></code></p><p><div><h4>Example 1.7 - graphing a function using <code>curve</code></h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex7.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn*&nbsp;[]&nbsp;(g/curve&nbsp;'(*&nbsp;x&nbsp;(-&nbsp;1&nbsp;x))&nbsp;:from&nbsp;0&nbsp;:to&nbsp;1&nbsp;:ylab&nbsp;"f(x)")))</br></code></div></div></p></p><p><image src="ch1ex7.png"></image></p><p><div><h2>1.3 - Vectors and Matrices</h2></div></p><p><div><h4>Example 1.8 - Class mobility</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;probs&nbsp;[0.45&nbsp;0.05&nbsp;0.01&nbsp;0.48&nbsp;0.7&nbsp;0.5&nbsp;0.07&nbsp;0.25&nbsp;0.49])</br></code></div></div></p><code class="prettyprint lang-clj">[0.45&nbsp;0.05&nbsp;0.01&nbsp;0.48&nbsp;0.7&nbsp;0.5&nbsp;0.07&nbsp;0.25&nbsp;0.49]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;P&nbsp;(base/matrix&nbsp;probs&nbsp;:nrow&nbsp;3&nbsp;:ncol&nbsp;3))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;middle&nbsp;upper</br>lower&nbsp;&nbsp;&nbsp;0.45&nbsp;&nbsp;&nbsp;0.48&nbsp;&nbsp;0.07</br>middle&nbsp;&nbsp;0.05&nbsp;&nbsp;&nbsp;0.70&nbsp;&nbsp;0.25</br>upper&nbsp;&nbsp;&nbsp;0.01&nbsp;&nbsp;&nbsp;0.50&nbsp;&nbsp;0.49</br></br></code></p><p><div><p>Currently matrix is flat array in Clojure</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r->clj&nbsp;P)</br></code></div></div></p><code class="prettyprint lang-clj">[0.45&nbsp;0.05&nbsp;0.01&nbsp;0.48&nbsp;0.7&nbsp;0.5&nbsp;0.07&nbsp;0.25&nbsp;0.49]</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;P</br>&nbsp;&nbsp;(let&nbsp;[names&nbsp;["lower"&nbsp;"middle"&nbsp;"upper"]]</br>&nbsp;&nbsp;&nbsp;&nbsp;(->&nbsp;P</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/rownames<-&nbsp;names)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/colnames<-&nbsp;names))))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;middle&nbsp;upper</br>lower&nbsp;&nbsp;&nbsp;0.45&nbsp;&nbsp;&nbsp;0.48&nbsp;&nbsp;0.07</br>middle&nbsp;&nbsp;0.05&nbsp;&nbsp;&nbsp;0.70&nbsp;&nbsp;0.25</br>upper&nbsp;&nbsp;&nbsp;0.01&nbsp;&nbsp;&nbsp;0.50&nbsp;&nbsp;0.49</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/rowSums&nbsp;P)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;lower&nbsp;middle&nbsp;&nbsp;upper&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/apply&nbsp;P&nbsp;:MARGIN&nbsp;1&nbsp;:FUN&nbsp;base/sum)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;lower&nbsp;middle&nbsp;&nbsp;upper&nbsp;</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;P2&nbsp;(base/%*%&nbsp;P&nbsp;P))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;middle&nbsp;&nbsp;upper</br>lower&nbsp;&nbsp;0.2272&nbsp;0.5870&nbsp;0.1858</br>middle&nbsp;0.0600&nbsp;0.6390&nbsp;0.3010</br>upper&nbsp;&nbsp;0.0344&nbsp;0.5998&nbsp;0.3658</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(bra&nbsp;P2&nbsp;1&nbsp;3)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.1858</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(bra&nbsp;P2&nbsp;1&nbsp;(r/empty-symbol))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;lower&nbsp;middle&nbsp;&nbsp;upper&nbsp;</br>0.2272&nbsp;0.5870&nbsp;0.1858&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(let&nbsp;[P4&nbsp;(base/%*%&nbsp;P2&nbsp;P2)&nbsp;P8&nbsp;(base/%*%&nbsp;P4&nbsp;P4)]&nbsp;P8)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lower&nbsp;&nbsp;&nbsp;&nbsp;middle&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;upper</br>lower&nbsp;&nbsp;0.06350395&nbsp;0.6233444&nbsp;0.3131516</br>middle&nbsp;0.06239010&nbsp;0.6234412&nbsp;0.3141687</br>upper&nbsp;&nbsp;0.06216410&nbsp;0.6234574&nbsp;0.3143785</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;Q</br>&nbsp;&nbsp;(base/matrix&nbsp;[0.45&nbsp;0.48&nbsp;0.07&nbsp;0.05&nbsp;0.7&nbsp;0.25&nbsp;0.01&nbsp;0.5&nbsp;0.49]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:nrow&nbsp;3</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ncol&nbsp;3</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:byrow&nbsp;true))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[,1]&nbsp;[,2]&nbsp;[,3]</br>[1,]&nbsp;0.45&nbsp;0.48&nbsp;0.07</br>[2,]&nbsp;0.05&nbsp;0.70&nbsp;0.25</br>[3,]&nbsp;0.01&nbsp;0.50&nbsp;0.49</br></br></code></p><p><div><h2>1.4 - Data Frames</h2></div></p><p><div><h3>1.4.1 - Introduction to data frames</h3></div></p><p><div><h4>Example 1.9 - USArrests</h4></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">USArrests</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Murder&nbsp;Assault&nbsp;UrbanPop&nbsp;Rape</br>Alabama&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;236&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58&nbsp;21.2</br>Alaska&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;263&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48&nbsp;44.5</br>Arizona&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;294&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;31.0</br>Arkansas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;190&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50&nbsp;19.5</br>California&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;276&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91&nbsp;40.6</br>Colorado&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;204&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78&nbsp;38.7</br>Connecticut&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;110&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;77&nbsp;11.1</br>Delaware&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;238&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72&nbsp;15.8</br>Florida&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;335&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;31.9</br>Georgia&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;211&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60&nbsp;25.8</br>Hawaii&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83&nbsp;20.2</br>Idaho&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;54&nbsp;14.2</br>Illinois&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;249&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83&nbsp;24.0</br>Indiana&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;113&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;65&nbsp;21.0</br>Iowa&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57&nbsp;11.3</br>Kansas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;115&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66&nbsp;18.0</br>Kentucky&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;109&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;52&nbsp;16.3</br>Louisiana&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;249&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66&nbsp;22.2</br>Maine&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;83&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;51&nbsp;&nbsp;7.8</br>Maryland&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;300&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67&nbsp;27.8</br>Massachusetts&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;149&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;85&nbsp;16.3</br>Michigan&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;255&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;74&nbsp;35.1</br>Minnesota&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66&nbsp;14.9</br>Mississippi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;16.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;259&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44&nbsp;17.1</br>Missouri&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;178&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70&nbsp;28.2</br>Montana&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;109&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53&nbsp;16.4</br>Nebraska&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;102&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62&nbsp;16.5</br>Nevada&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;252&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81&nbsp;46.0</br>New&nbsp;Hampshire&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;57&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;56&nbsp;&nbsp;9.5</br>New&nbsp;Jersey&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;159&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;89&nbsp;18.8</br>New&nbsp;Mexico&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;285&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70&nbsp;32.1</br>New&nbsp;York&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;11.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;254&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86&nbsp;26.1</br>North&nbsp;Carolina&nbsp;&nbsp;&nbsp;13.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;337&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45&nbsp;16.1</br>North&nbsp;Dakota&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;44&nbsp;&nbsp;7.3</br>Ohio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;75&nbsp;21.4</br>Oklahoma&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;151&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;68&nbsp;20.0</br>Oregon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;159&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;67&nbsp;29.3</br>Pennsylvania&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;106&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;72&nbsp;14.9</br>Rhode&nbsp;Island&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;174&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;87&nbsp;&nbsp;8.3</br>South&nbsp;Carolina&nbsp;&nbsp;&nbsp;14.4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;279&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48&nbsp;22.5</br>South&nbsp;Dakota&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;86&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;45&nbsp;12.8</br>Tennessee&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;188&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;59&nbsp;26.9</br>Texas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;12.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;201&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;25.5</br>Utah&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;120&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;22.9</br>Vermont&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;32&nbsp;11.2</br>Virginia&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;156&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;63&nbsp;20.7</br>Washington&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;145&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;73&nbsp;26.2</br>West&nbsp;Virginia&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;81&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39&nbsp;&nbsp;9.3</br>Wisconsin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;53&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;66&nbsp;10.8</br>Wyoming&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;161&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;60&nbsp;15.6</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(r->clj&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">_unnamed&nbsp;[50&nbsp;4]:</br></br>|&nbsp;:Murder&nbsp;|&nbsp;:Assault&nbsp;|&nbsp;:UrbanPop&nbsp;|&nbsp;&nbsp;:Rape&nbsp;|</br>|---------+----------+-----------+--------|</br>|&nbsp;&nbsp;13.200&nbsp;|&nbsp;&nbsp;236.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;58.000&nbsp;|&nbsp;21.200&nbsp;|</br>|&nbsp;&nbsp;10.000&nbsp;|&nbsp;&nbsp;263.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;48.000&nbsp;|&nbsp;44.500&nbsp;|</br>|&nbsp;&nbsp;&nbsp;8.100&nbsp;|&nbsp;&nbsp;294.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;80.000&nbsp;|&nbsp;31.000&nbsp;|</br>|&nbsp;&nbsp;&nbsp;8.800&nbsp;|&nbsp;&nbsp;190.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;50.000&nbsp;|&nbsp;19.500&nbsp;|</br>|&nbsp;&nbsp;&nbsp;9.000&nbsp;|&nbsp;&nbsp;276.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;91.000&nbsp;|&nbsp;40.600&nbsp;|</br>|&nbsp;&nbsp;&nbsp;7.900&nbsp;|&nbsp;&nbsp;204.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;78.000&nbsp;|&nbsp;38.700&nbsp;|</br>|&nbsp;&nbsp;&nbsp;3.300&nbsp;|&nbsp;&nbsp;110.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;77.000&nbsp;|&nbsp;11.100&nbsp;|</br>|&nbsp;&nbsp;&nbsp;5.900&nbsp;|&nbsp;&nbsp;238.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;72.000&nbsp;|&nbsp;15.800&nbsp;|</br>|&nbsp;&nbsp;15.400&nbsp;|&nbsp;&nbsp;335.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;80.000&nbsp;|&nbsp;31.900&nbsp;|</br>|&nbsp;&nbsp;17.400&nbsp;|&nbsp;&nbsp;211.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;60.000&nbsp;|&nbsp;25.800&nbsp;|</br>|&nbsp;&nbsp;&nbsp;5.300&nbsp;|&nbsp;&nbsp;&nbsp;46.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;83.000&nbsp;|&nbsp;20.200&nbsp;|</br>|&nbsp;&nbsp;&nbsp;2.600&nbsp;|&nbsp;&nbsp;120.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;54.000&nbsp;|&nbsp;14.200&nbsp;|</br>|&nbsp;&nbsp;10.400&nbsp;|&nbsp;&nbsp;249.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;83.000&nbsp;|&nbsp;24.000&nbsp;|</br>|&nbsp;&nbsp;&nbsp;7.200&nbsp;|&nbsp;&nbsp;113.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;65.000&nbsp;|&nbsp;21.000&nbsp;|</br>|&nbsp;&nbsp;&nbsp;2.200&nbsp;|&nbsp;&nbsp;&nbsp;56.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;57.000&nbsp;|&nbsp;11.300&nbsp;|</br>|&nbsp;&nbsp;&nbsp;6.000&nbsp;|&nbsp;&nbsp;115.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;66.000&nbsp;|&nbsp;18.000&nbsp;|</br>|&nbsp;&nbsp;&nbsp;9.700&nbsp;|&nbsp;&nbsp;109.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;52.000&nbsp;|&nbsp;16.300&nbsp;|</br>|&nbsp;&nbsp;15.400&nbsp;|&nbsp;&nbsp;249.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;66.000&nbsp;|&nbsp;22.200&nbsp;|</br>|&nbsp;&nbsp;&nbsp;2.100&nbsp;|&nbsp;&nbsp;&nbsp;83.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;51.000&nbsp;|&nbsp;&nbsp;7.800&nbsp;|</br>|&nbsp;&nbsp;11.300&nbsp;|&nbsp;&nbsp;300.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;67.000&nbsp;|&nbsp;27.800&nbsp;|</br>|&nbsp;&nbsp;&nbsp;4.400&nbsp;|&nbsp;&nbsp;149.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;85.000&nbsp;|&nbsp;16.300&nbsp;|</br>|&nbsp;&nbsp;12.100&nbsp;|&nbsp;&nbsp;255.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;74.000&nbsp;|&nbsp;35.100&nbsp;|</br>|&nbsp;&nbsp;&nbsp;2.700&nbsp;|&nbsp;&nbsp;&nbsp;72.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;66.000&nbsp;|&nbsp;14.900&nbsp;|</br>|&nbsp;&nbsp;16.100&nbsp;|&nbsp;&nbsp;259.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;44.000&nbsp;|&nbsp;17.100&nbsp;|</br>|&nbsp;&nbsp;&nbsp;9.000&nbsp;|&nbsp;&nbsp;178.000&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;70.000&nbsp;|&nbsp;28.200&nbsp;|</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(u/head&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Murder&nbsp;Assault&nbsp;UrbanPop&nbsp;Rape</br>Alabama&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;13.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;236&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;58&nbsp;21.2</br>Alaska&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;263&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;48&nbsp;44.5</br>Arizona&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;294&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80&nbsp;31.0</br>Arkansas&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;190&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50&nbsp;19.5</br>California&nbsp;&nbsp;&nbsp;&nbsp;9.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;276&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91&nbsp;40.6</br>Colorado&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;204&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78&nbsp;38.7</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/NROW&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;50</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/dim&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;50&nbsp;&nbsp;4</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/names&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;"Murder"&nbsp;&nbsp;&nbsp;"Assault"&nbsp;&nbsp;"UrbanPop"&nbsp;"Rape"&nbsp;&nbsp;&nbsp;&nbsp;</br></br></code></p><p><div><p><code>str</code> doesn't return anything, try <code>ls-str</code> instead.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(u/ls-str&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">Assault&nbsp;:&nbsp;&nbsp;int&nbsp;[1:50]&nbsp;236&nbsp;263&nbsp;294&nbsp;190&nbsp;276&nbsp;204&nbsp;110&nbsp;238&nbsp;335&nbsp;211&nbsp;...</br>Murder&nbsp;:&nbsp;&nbsp;num&nbsp;[1:50]&nbsp;13.2&nbsp;10&nbsp;8.1&nbsp;8.8&nbsp;9&nbsp;7.9&nbsp;3.3&nbsp;5.9&nbsp;15.4&nbsp;17.4&nbsp;...</br>Rape&nbsp;:&nbsp;&nbsp;num&nbsp;[1:50]&nbsp;21.2&nbsp;44.5&nbsp;31&nbsp;19.5&nbsp;40.6&nbsp;38.7&nbsp;11.1&nbsp;15.8&nbsp;31.9&nbsp;25.8&nbsp;...</br>UrbanPop&nbsp;:&nbsp;&nbsp;int&nbsp;[1:50]&nbsp;58&nbsp;48&nbsp;80&nbsp;50&nbsp;91&nbsp;78&nbsp;77&nbsp;72&nbsp;80&nbsp;60&nbsp;...</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/any&nbsp;(base/is-na&nbsp;USArrests))</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;FALSE</br></br></code></p><p><div><h3>1.4.2 - Working with a data frame</h3></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/summary&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Murder&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assault&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UrbanPop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rape&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</br>&nbsp;Min.&nbsp;&nbsp;&nbsp;:&nbsp;0.800&nbsp;&nbsp;&nbsp;Min.&nbsp;&nbsp;&nbsp;:&nbsp;45.0&nbsp;&nbsp;&nbsp;Min.&nbsp;&nbsp;&nbsp;:32.00&nbsp;&nbsp;&nbsp;Min.&nbsp;&nbsp;&nbsp;:&nbsp;7.30&nbsp;&nbsp;</br>&nbsp;1st&nbsp;Qu.:&nbsp;4.075&nbsp;&nbsp;&nbsp;1st&nbsp;Qu.:109.0&nbsp;&nbsp;&nbsp;1st&nbsp;Qu.:54.50&nbsp;&nbsp;&nbsp;1st&nbsp;Qu.:15.07&nbsp;&nbsp;</br>&nbsp;Median&nbsp;:&nbsp;7.250&nbsp;&nbsp;&nbsp;Median&nbsp;:159.0&nbsp;&nbsp;&nbsp;Median&nbsp;:66.00&nbsp;&nbsp;&nbsp;Median&nbsp;:20.10&nbsp;&nbsp;</br>&nbsp;Mean&nbsp;&nbsp;&nbsp;:&nbsp;7.788&nbsp;&nbsp;&nbsp;Mean&nbsp;&nbsp;&nbsp;:170.8&nbsp;&nbsp;&nbsp;Mean&nbsp;&nbsp;&nbsp;:65.54&nbsp;&nbsp;&nbsp;Mean&nbsp;&nbsp;&nbsp;:21.23&nbsp;&nbsp;</br>&nbsp;3rd&nbsp;Qu.:11.250&nbsp;&nbsp;&nbsp;3rd&nbsp;Qu.:249.0&nbsp;&nbsp;&nbsp;3rd&nbsp;Qu.:77.75&nbsp;&nbsp;&nbsp;3rd&nbsp;Qu.:26.18&nbsp;&nbsp;</br>&nbsp;Max.&nbsp;&nbsp;&nbsp;:17.400&nbsp;&nbsp;&nbsp;Max.&nbsp;&nbsp;&nbsp;:337.0&nbsp;&nbsp;&nbsp;Max.&nbsp;&nbsp;&nbsp;:91.00&nbsp;&nbsp;&nbsp;Max.&nbsp;&nbsp;&nbsp;:46.00&nbsp;&nbsp;</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(bra&nbsp;USArrests&nbsp;"California"&nbsp;"Murder")</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;9</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(bra&nbsp;USArrests&nbsp;"California"&nbsp;(r/empty-symbol))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Murder&nbsp;Assault&nbsp;UrbanPop&nbsp;Rape</br>California&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;276&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;91&nbsp;40.6</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">($&nbsp;USArrests&nbsp;'Assault)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;236&nbsp;263&nbsp;294&nbsp;190&nbsp;276&nbsp;204&nbsp;110&nbsp;238&nbsp;335&nbsp;211&nbsp;&nbsp;46&nbsp;120&nbsp;249&nbsp;113&nbsp;&nbsp;56&nbsp;115&nbsp;109&nbsp;249&nbsp;&nbsp;83</br>[20]&nbsp;300&nbsp;149&nbsp;255&nbsp;&nbsp;72&nbsp;259&nbsp;178&nbsp;109&nbsp;102&nbsp;252&nbsp;&nbsp;57&nbsp;159&nbsp;285&nbsp;254&nbsp;337&nbsp;&nbsp;45&nbsp;120&nbsp;151&nbsp;159&nbsp;106</br>[39]&nbsp;174&nbsp;279&nbsp;&nbsp;86&nbsp;188&nbsp;201&nbsp;120&nbsp;&nbsp;48&nbsp;156&nbsp;145&nbsp;&nbsp;81&nbsp;&nbsp;53&nbsp;161</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex9.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn*&nbsp;[]&nbsp;(g/hist&nbsp;($&nbsp;USArrests&nbsp;'Assault))))</br></code></div></div></p></p><p><image src="ch1ex9.png"></image></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(require-r&nbsp;'[MASS])</br></code></div></div></p><code class="prettyprint lang-clj">nil</br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex9b.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn*&nbsp;[]&nbsp;(r.MASS/truehist&nbsp;($&nbsp;USArrests&nbsp;'Assault))))</br></code></div></div></p></p><p><image src="ch1ex9b.png"></image></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex9c.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn*&nbsp;[]&nbsp;(g/hist&nbsp;($&nbsp;USArrests&nbsp;'Assault)&nbsp;:prob&nbsp;true&nbsp;:breaks&nbsp;"scott")))</br></code></div></div></p></p><p><image src="ch1ex9c.png"></image></p><p><div><p>Attach creates symbols on the R side, use Clojure symbols (ex. 'Murder) to access them.</p></div></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(base/attach&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj"><environment:&nbsp;0x7fffef4fbb28></br>attr(,"name")</br>[1]&nbsp;".MEM$xade4dad7a09a42da"</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(def&nbsp;murder-pct&nbsp;(r&nbsp;'(/&nbsp;(*&nbsp;100&nbsp;Murder)&nbsp;(+&nbsp;(+&nbsp;Murder&nbsp;Assault)&nbsp;Rape))))</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;[1]&nbsp;4.881657&nbsp;3.149606&nbsp;2.431702&nbsp;4.031150&nbsp;2.764128&nbsp;3.152434&nbsp;2.652733&nbsp;2.271852</br>&nbsp;[9]&nbsp;4.028250&nbsp;6.845004&nbsp;7.412587&nbsp;1.900585&nbsp;3.669725&nbsp;5.099150&nbsp;3.165468&nbsp;4.316547</br>[17]&nbsp;7.185185&nbsp;5.373343&nbsp;2.260495&nbsp;3.332350&nbsp;2.592811&nbsp;4.003971&nbsp;3.013393&nbsp;5.509925</br>[25]&nbsp;4.182156&nbsp;4.566210&nbsp;3.501629&nbsp;3.932946&nbsp;3.061224&nbsp;3.995680&nbsp;3.470320&nbsp;3.811813</br>[33]&nbsp;3.550942&nbsp;1.506591&nbsp;4.909213&nbsp;3.716216&nbsp;2.536232&nbsp;4.952830&nbsp;1.830910&nbsp;4.558405</br>[41]&nbsp;3.703704&nbsp;5.786936&nbsp;5.309365&nbsp;2.190281&nbsp;3.583062&nbsp;4.589633&nbsp;2.283105&nbsp;5.937500</br>[49]&nbsp;3.915663&nbsp;3.707743</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(u/head&nbsp;murder-pct)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;4.881657&nbsp;3.149606&nbsp;2.431702&nbsp;4.031150&nbsp;2.764128&nbsp;3.152434</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex9d.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fn*&nbsp;[]&nbsp;(g/plot&nbsp;'UrbanPop&nbsp;'Murder)))</br></code></div></div></p></p><p><image src="ch1ex9d.png"></image></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"/ch1ex9e.png")&nbsp;(fn*&nbsp;[]&nbsp;(g/pairs&nbsp;USArrests)))</br></code></div></div></p></p><p><image src="ch1ex9e.png"></image></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(stats/cor&nbsp;'UrbanPop&nbsp;'Murder)</br></code></div></div></p><code class="prettyprint lang-clj">[1]&nbsp;0.06957262</br></br></code></p><p><p><div style="background-color:#e8e3f0; width: 100%"><div><code class="prettyprint lang-clj">(stats/cor&nbsp;USArrests)</br></code></div></div></p><code class="prettyprint lang-clj">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Murder&nbsp;&nbsp;&nbsp;Assault&nbsp;&nbsp;&nbsp;UrbanPop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rape</br>Murder&nbsp;&nbsp;&nbsp;1.00000000&nbsp;0.8018733&nbsp;0.06957262&nbsp;0.5635788</br>Assault&nbsp;&nbsp;0.80187331&nbsp;1.0000000&nbsp;0.25887170&nbsp;0.6652412</br>UrbanPop&nbsp;0.06957262&nbsp;0.2588717&nbsp;1.00000000&nbsp;0.4113412</br>Rape&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.56357883&nbsp;0.6652412&nbsp;0.41134124&nbsp;1.0000000</br></br></code></p><hr /><div>Checks: <b><b style="color:green">6 PASSED </b></b><hr /></div><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/r_by_example.clj">clojisr-examples.r-by-example</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Thu Feb 20 15:43:18 CET 2020.</small></i><hr /></div></div></body></html>