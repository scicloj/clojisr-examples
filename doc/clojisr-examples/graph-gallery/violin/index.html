<!DOCTYPE html>
<html><html><head><script language="JavaScript">
  socket= new WebSocket('ws://localhost:5678/watch-reload');
  socket.onopen= function() {
                           socket.send ('watch') ;
                           };
  socket.onmessage= function(s) {
                               if                                                          ( s.data == 'started') {
                                                                                                                   console.log ("Watching started") ;
                                                                                                                   }                                 else                   if ( s.data == 'reload') {
                                                                                                                                                                                                      console.log            ("reloading") ;
                                                                                                                                                                                                      window.location.reload ()            ;
                                                                                                                                                                                                      } else                   {
                                                                                                                                                                                                                                alert('Don\'t know what to do with [' + s.data + ']');
                                                                                                                                                                                                                                }
                               };
  </script>
  <style type="text/css">body {
    background-image: linear-gradient(0deg, #fff4e8 25%, #fef8e9 25%, #fef8e9 50%, #fff4e8 50%, #fff4e8 75%, #fef8e9 75%, #fef8e9 100%);
    background-size: 32.00px 32.00px;
    color: #3e3c3f;
    font-family: "Source Sans Pro", sans-serif;
    font-size: 14px;
    padding-left: 10px;
    padding-right: 10px;
    margin: 0;
}

.nspin {
    border-radius: 10px;
    background: #d7d2c3;
    padding: 10px;
    margin-bottom: 5px;
}

.nspout {
    border-radius: 10px;
    background: #e4ded0;
    padding: 10px;
    margin-left: 10px;
}

.nspbox {
    padding-bottom: 5px;
    margin: 0;
}

.FAILED { color: #bb0000; }
.PASSED { color: #009500; }

p {
    margin-top: 0;
    margin-bottom: 5px; }

h1, h2, h3, h4, h5, h6 {
    margin-top: 10px;
    margin-bottom: 5px;
    color: #720000;
}

a:visited { color: #5E5E59; }
a:link { color: #720000; }
tr:nth-child(even) { background-color: #e4ded0; }
th { background-color: #d7d2c3; }

</style><script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/lang-clj.js" type="text/javascript"></script><link href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" /><script src="https://code.jquery.com/jquery-3.4.1.min.js" type="text/javascript"></script><script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js" type="text/javascript"></script><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet" type="text/css" /></head><body><div><h1>clojisr-examples.graph-gallery.violin</h1><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/graph_gallery/violin.clj">clojisr-examples.graph-gallery.violin</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Thu Jul 09 12:12:20 CEST 2020.</small></i><hr /></div><div class="nspbox"><div><h1><a href='https://www.r-graph-gallery.com/'>R Graph Gallery</a> - <a href='https://www.r-graph-gallery.com/violin.html'>Violin</a></h1></div></div><div class="nspbox"><div><p>Code from <a href='https://www.r-graph-gallery.com/'>project</a> by Yan Holtz</p></div></div><div class="nspbox"><div><p>You can find here only translated code, please refer <a href='https://www.r-graph-gallery.com/violin.html'>original text</a></p></div></div><div class="nspbox"><div><h2>Setup</h2></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require&nbsp;'[clojisr.v1.r&nbsp;:as&nbsp;r&nbsp;:refer&nbsp;[r+&nbsp;r*&nbsp;r&nbsp;r->clj&nbsp;clj->r&nbsp;bra&nbsp;colon]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.require&nbsp;:refer&nbsp;[require-r]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[clojisr.v1.applications.plotting&nbsp;:refer&nbsp;[plot->file]])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[base&nbsp;:as&nbsp;base&nbsp;:refer&nbsp;[$&nbsp;<-]]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[utils&nbsp;:as&nbsp;u]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[stats&nbsp;:as&nbsp;stats]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[graphics&nbsp;:as&nbsp;g]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[grDevices&nbsp;:as&nbsp;dev]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tidyverse]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[knitr&nbsp;:as&nbsp;knitr]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[dplyr&nbsp;:as&nbsp;dplyr]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[tidyr&nbsp;:as&nbsp;tidyr]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[ggplot2&nbsp;:as&nbsp;gg]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[viridis&nbsp;:as&nbsp;viridis]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[forcats]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[extrafont]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[hrbrthemes&nbsp;:as&nbsp;th]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'[datasets&nbsp;:refer&nbsp;:all])</code></div></div><div class="nspbox"><div><p>WARNING: To use <code>hrbrthemes</code> you may want to:</p><ol><li>Install Arial Narrow or Roboto Condensed fonts.</li><li>Register system fonts with <code>extrafont::font&#95;import&#40;&#41;</code> or <code>&#40;r.extrafont/font&#95;import&#41;</code></li><li>Fix font database as described in <a href='https://github.com/hrbrmstr/hrbrthemes/issues/18#issuecomment-299692978'>here</a></li><li>Call <code>hrbrthemes::import&#95;roboto&#95;condensed&#40;&#41;</code> or <code>&#40;th/import&#95;roboto&#95;condensed&#41;</code></li><li>Restart session</li></ol></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(r.extrafont/loadfonts&nbsp;:quiet&nbsp;true)</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/options&nbsp;:knitr.table.format&nbsp;"html")</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(base/set-seed&nbsp;7337)</code></div></div><div class="nspbox"><div><h2>GGPlot2</h2></div></div><div class="nspbox"><div><h3><a href='https://www.r-graph-gallery.com/95-violin-plot-with-ggplot2.html'>Most basic violin chart</a></h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;data-random</br>&nbsp;&nbsp;&nbsp;(base/data-frame</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:name&nbsp;[(repeat&nbsp;500&nbsp;"A")&nbsp;(repeat&nbsp;500&nbsp;"B")&nbsp;(repeat&nbsp;500&nbsp;"B")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(repeat&nbsp;20&nbsp;"C")&nbsp;(repeat&nbsp;100&nbsp;"D")]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:value&nbsp;[(stats/rnorm&nbsp;500&nbsp;10&nbsp;5)&nbsp;(stats/rnorm&nbsp;500&nbsp;13&nbsp;1)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/rnorm&nbsp;500&nbsp;18&nbsp;1)&nbsp;(stats/rnorm&nbsp;20&nbsp;25&nbsp;4)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(stats/rnorm&nbsp;100&nbsp;12&nbsp;1)]))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"a.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(gg/ggplot&nbsp;data-random</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/aes&nbsp;:x&nbsp;'name&nbsp;:y&nbsp;'value&nbsp;:fill&nbsp;'name))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_violin)))</code></div></div><div class="nspbox"><image src="a.png"></image></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;data-wide&nbsp;(bra&nbsp;iris&nbsp;nil&nbsp;(colon&nbsp;1&nbsp;4)))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(->&nbsp;data-wide</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(u/head)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(knitr/kable)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r->clj)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(first))</code></div><div><p><table>  <thead>   <tr>    <th style="text-align:right;"> Sepal.Length </th>    <th style="text-align:right;"> Sepal.Width </th>    <th style="text-align:right;"> Petal.Length </th>    <th style="text-align:right;"> Petal.Width </th>   </tr>  </thead> <tbody>   <tr>    <td style="text-align:right;"> 5.1 </td>    <td style="text-align:right;"> 3.5 </td>    <td style="text-align:right;"> 1.4 </td>    <td style="text-align:right;"> 0.2 </td>   </tr>   <tr>    <td style="text-align:right;"> 4.9 </td>    <td style="text-align:right;"> 3.0 </td>    <td style="text-align:right;"> 1.4 </td>    <td style="text-align:right;"> 0.2 </td>   </tr>   <tr>    <td style="text-align:right;"> 4.7 </td>    <td style="text-align:right;"> 3.2 </td>    <td style="text-align:right;"> 1.3 </td>    <td style="text-align:right;"> 0.2 </td>   </tr>   <tr>    <td style="text-align:right;"> 4.6 </td>    <td style="text-align:right;"> 3.1 </td>    <td style="text-align:right;"> 1.5 </td>    <td style="text-align:right;"> 0.2 </td>   </tr>   <tr>    <td style="text-align:right;"> 5.0 </td>    <td style="text-align:right;"> 3.6 </td>    <td style="text-align:right;"> 1.4 </td>    <td style="text-align:right;"> 0.2 </td>   </tr>   <tr>    <td style="text-align:right;"> 5.4 </td>    <td style="text-align:right;"> 3.9 </td>    <td style="text-align:right;"> 1.7 </td>    <td style="text-align:right;"> 0.4 </td>   </tr> </tbody> </table></p></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"b.png")</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[data&nbsp;(->&nbsp;data-wide</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(tidyr/gather&nbsp;:key&nbsp;"MesureType"&nbsp;:value&nbsp;"Val"))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(gg/ggplot&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/aes&nbsp;:x&nbsp;'MesureType&nbsp;:y&nbsp;'Val&nbsp;:fill&nbsp;'MesureType))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_violin))))</code></div></div><div class="nspbox"><image src="b.png"></image></div><div class="nspbox"><div><h3><a href='https://www.r-graph-gallery.com/267-reorder-a-variable-in-ggplot2.html'>Control group order</a></h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;mpg</br>&nbsp;&nbsp;&nbsp;(base/$<-&nbsp;gg/mpg</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'class</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/with&nbsp;gg/mpg&nbsp;'(reorder&nbsp;class&nbsp;hwy&nbsp;median))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"c.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(gg/ggplot&nbsp;mpg&nbsp;(gg/aes&nbsp;:x&nbsp;'class&nbsp;:y&nbsp;'hwy&nbsp;:fill&nbsp;'class))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_violin)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/xlab&nbsp;"")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/theme&nbsp;:legend.position&nbsp;"none")))</code></div></div><div class="nspbox"><image src="c.png"></image></div><div class="nspbox"><div><h3><a href='https://www.r-graph-gallery.com/violin_horizontal_ggplot2.html'>Horizontal version</a></h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;data</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"https://raw.githubusercontent.com/zonination/perceptions/master/probly.csv"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(u/read-table&nbsp;:header&nbsp;true&nbsp;:sep&nbsp;",")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(tidyr/gather&nbsp;:key&nbsp;"text"&nbsp;:value&nbsp;"value")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:text&nbsp;'(gsub&nbsp;"\\\\."&nbsp;"&nbsp;"&nbsp;text))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:value&nbsp;'(round&nbsp;(as.numeric&nbsp;value)&nbsp;0))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/filter</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(%in%&nbsp;text</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;["Almost&nbsp;Certainly"&nbsp;"Very&nbsp;Good&nbsp;Chance"&nbsp;"We&nbsp;Believe"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Likely"&nbsp;"About&nbsp;Even"&nbsp;"Little&nbsp;Chance"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"Chances&nbsp;Are&nbsp;Slight"&nbsp;"Almost&nbsp;No&nbsp;Chance"]))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:text&nbsp;'(fct_reorder&nbsp;text&nbsp;value))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"d.png")</br>&nbsp;&nbsp;&nbsp;(r+&nbsp;(gg/ggplot&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/aes&nbsp;:x&nbsp;'text&nbsp;:y&nbsp;'value&nbsp;:color&nbsp;'text&nbsp;:fill&nbsp;'text))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_violin&nbsp;:width&nbsp;2.1&nbsp;:size&nbsp;0.2)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(viridis/scale_fill_viridis&nbsp;:discrete&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(viridis/scale_color_viridis&nbsp;:discrete&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(th/theme_ipsum_rc)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/theme&nbsp;:legend.position&nbsp;"none")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/coord_flip)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/xlab&nbsp;"")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/ylab&nbsp;"Assigned&nbsp;Probability&nbsp;(%)")))</code></div></div><div class="nspbox"><image src="d.png"></image></div><div class="nspbox"><div><h3><a href='https://www.r-graph-gallery.com/violin_and_boxplot_ggplot2.html'>Violin + boxplot + sample size</a></h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;sample-size</br>&nbsp;&nbsp;&nbsp;(->&nbsp;data-random</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/group_by&nbsp;'name)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/summarize&nbsp;:num&nbsp;'(n))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"e.png")</br>&nbsp;&nbsp;&nbsp;(let&nbsp;[data&nbsp;(->&nbsp;data-random</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/left_join&nbsp;sample-size)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:myaxis</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(paste0&nbsp;name&nbsp;"\\\n"&nbsp;"n="&nbsp;num)))]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(gg/ggplot&nbsp;data&nbsp;(gg/aes&nbsp;:x&nbsp;'myaxis&nbsp;:y&nbsp;'value&nbsp;:fill&nbsp;'name))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_violin&nbsp;:width&nbsp;1.4)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_boxplot&nbsp;:width&nbsp;0.1&nbsp;:color&nbsp;"grey"&nbsp;:alpha&nbsp;0.2)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(viridis/scale_fill_viridis&nbsp;:discrete&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(th/theme_ipsum_rc)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/theme&nbsp;:legend.position&nbsp;"none"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:plot.title&nbsp;(gg/element_text&nbsp;:size&nbsp;11))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/ggtitle&nbsp;"A&nbsp;Violing&nbsp;wrapping&nbsp;a&nbsp;boxplot")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/xlab&nbsp;""))))</code></div></div><div class="nspbox"><image src="e.png"></image></div><div class="nspbox"><div><h3><a href='https://www.r-graph-gallery.com/violin_grouped_ggplot2.html'>Grouped violin chart</a></h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(def&nbsp;data</br>&nbsp;&nbsp;&nbsp;(-></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"https://raw.githubusercontent.com/holtzy/data_to_viz/master/Example_dataset/10_OneNumSevCatSubgroupsSevObs.csv"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(u/read-table&nbsp;:header&nbsp;true&nbsp;:sep&nbsp;",")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:tip&nbsp;'(round&nbsp;(*&nbsp;(/&nbsp;tip&nbsp;total_bill)&nbsp;100)&nbsp;1))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:day&nbsp;'(fct_reorder&nbsp;day&nbsp;tip))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dplyr/mutate&nbsp;:day</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(factor&nbsp;day&nbsp;:levels&nbsp;["Thur"&nbsp;"Fri"&nbsp;"Sat"&nbsp;"Sun"]))))</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file&nbsp;(str&nbsp;target-path&nbsp;"f.png")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(r+&nbsp;(gg/ggplot&nbsp;data&nbsp;(gg/aes&nbsp;:fill&nbsp;'sex&nbsp;:y&nbsp;'tip&nbsp;:x&nbsp;'day))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/geom_violin&nbsp;:position&nbsp;"dodge"</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:alpha&nbsp;0.5</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:outlier.colour&nbsp;"transparent")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(viridis/scale_fill_viridis&nbsp;:discrete&nbsp;true&nbsp;:name&nbsp;"")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(th/theme_ipsum_rc)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/xlab&nbsp;"")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/ylab&nbsp;"Tip&nbsp;(%)")</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gg/ylim&nbsp;0&nbsp;40)))</code></div></div><div class="nspbox"><image src="f.png"></image></div><div class="nspbox"><div><h2>Base R and Vioplot</h2></div></div><div class="nspbox"><div><h3><a href='https://www.r-graph-gallery.com/94-violin-plot.html'>Vioplot package</a></h3></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(require-r&nbsp;'[vioplot])</code></div></div><div class="nspbox"><div class="nspin"><code class="prettyprint lang-clj">(plot->file</br>&nbsp;&nbsp;&nbsp;(str&nbsp;target-path&nbsp;"g.png")</br>&nbsp;&nbsp;&nbsp;(fn&nbsp;[]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(let&nbsp;[treatment&nbsp;[(repeat&nbsp;40&nbsp;"A")&nbsp;(repeat&nbsp;40&nbsp;"B")&nbsp;(repeat&nbsp;40&nbsp;"C")]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[(base/sample&nbsp;[2&nbsp;3&nbsp;4&nbsp;5]&nbsp;40&nbsp;:replace&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/sample&nbsp;[(colon&nbsp;1&nbsp;5)&nbsp;(colon&nbsp;12&nbsp;17)]&nbsp;40&nbsp;:replace&nbsp;true)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/sample&nbsp;(colon&nbsp;1&nbsp;7)&nbsp;40&nbsp;:replace&nbsp;true)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(base/data-frame&nbsp;:treatment&nbsp;treatment&nbsp;:value&nbsp;value)]</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(base/with&nbsp;data</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'(vioplot&nbsp;(bra&nbsp;value&nbsp;(==&nbsp;treatment&nbsp;"A"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;value&nbsp;(==&nbsp;treatment&nbsp;"B"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(bra&nbsp;value&nbsp;(==&nbsp;treatment&nbsp;"C"))</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:col&nbsp;(dev/rgb&nbsp;0.1&nbsp;0.4&nbsp;0.7&nbsp;0.7)</br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:names&nbsp;["A"&nbsp;"B"&nbsp;"C"])))))</code></div></div><div class="nspbox"><image src="g.png"></image></div><hr /><div><i><small><a href="https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples/graph_gallery/violin.clj">clojisr-examples.graph-gallery.violin</a> - created by <a href="https://github.com/scicloj/notespace">notespace</a>, Thu Jul 09 12:12:20 CEST 2020.</small></i><hr /></div></div></body></html></html>